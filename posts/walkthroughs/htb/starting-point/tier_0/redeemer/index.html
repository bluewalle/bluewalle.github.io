<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>HTB - Redeemer - Walkthrough | Ee-Vah?</title><meta name=keywords content="htb,walkthrough,redeemer,tier-0,redis,vulnerability-assessment,databases,reconnaissance,anonymous-access,guest-access"><meta name=description content="The aim of this walkthrough is to provide help with the Redeemer machine on the Hack The Box website. Please note that no flags are directly provided here, only one of the many ways to solve the challenges.
It belongs to a series of tutorials the aim to help out complete beginners with finishing the Starting Point challenges.
SETUP There are a couple of ways to connect to the target machine."><meta name=author content="bluewalle"><link rel=canonical href=https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_0/redeemer/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bluewalle.github.io/main/img/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://bluewalle.github.io/main/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://bluewalle.github.io/main/img/favicon-32x32.png><link rel=apple-touch-icon href=https://bluewalle.github.io/main/img/apple-touch-icon.png><link rel=mask-icon href=https://bluewalle.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="HTB - Redeemer - Walkthrough"><meta property="og:description" content="The aim of this walkthrough is to provide help with the Redeemer machine on the Hack The Box website. Please note that no flags are directly provided here, only one of the many ways to solve the challenges.
It belongs to a series of tutorials the aim to help out complete beginners with finishing the Starting Point challenges.
SETUP There are a couple of ways to connect to the target machine."><meta property="og:type" content="article"><meta property="og:url" content="https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_0/redeemer/"><meta property="og:image" content="https://bluewalle.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-04T11:00:00+00:00"><meta property="article:modified_time" content="2023-05-04T11:00:00+00:00"><meta property="og:site_name" content="Just Keep Swimming"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bluewalle.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="HTB - Redeemer - Walkthrough"><meta name=twitter:description content="The aim of this walkthrough is to provide help with the Redeemer machine on the Hack The Box website. Please note that no flags are directly provided here, only one of the many ways to solve the challenges.
It belongs to a series of tutorials the aim to help out complete beginners with finishing the Starting Point challenges.
SETUP There are a couple of ways to connect to the target machine."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bluewalle.github.io/posts/"},{"@type":"ListItem","position":2,"name":"HTB - Redeemer - Walkthrough","item":"https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_0/redeemer/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"HTB - Redeemer - Walkthrough","name":"HTB - Redeemer - Walkthrough","description":"The aim of this walkthrough is to provide help with the Redeemer machine on the Hack The Box website. Please note that no flags are directly provided here, only one of the many ways to solve the challenges.\nIt belongs to a series of tutorials the aim to help out complete beginners with finishing the Starting Point challenges.\nSETUP There are a couple of ways to connect to the target machine.","keywords":["htb","walkthrough","redeemer","tier-0","redis","vulnerability-assessment","databases","reconnaissance","anonymous-access","guest-access"],"articleBody":"The aim of this walkthrough is to provide help with the Redeemer machine on the Hack The Box website. Please note that no flags are directly provided here, only one of the many ways to solve the challenges.\nIt belongs to a series of tutorials the aim to help out complete beginners with finishing the Starting Point challenges.\nSETUP There are a couple of ways to connect to the target machine. The one I will be using throughout this walkthrough is via the provided Pwnbox.\nOnce you took care of your connection, make sure to spawn the target machine.\nAlso, not required, but it is possible to set an environmental variable containing your target hosts IP address. Once set, you can easily access it by prepending a $ to your variable name.\n┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $rhost= ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ echo $rhost ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ You could use the unset command to remove it after you no longer need it.\n┌─[✗]─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $unset rhost ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ TASK 1 Question: Which TCP port is open on the machine?\nUse the -p- option for nmap to scan all the ports, not just the top 1000. (default scan) Beware, it might take a while.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $nmap -p- $rhost Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-04 17:43 BST Nmap scan report for 10.129.176.198 Host is up (0.0099s latency). Not shown: 65534 closed tcp ports (conn-refused) PORT STATE SERVICE 6379/tcp open redis Nmap done: 1 IP address (1 host up) scanned in 257.55 seconds ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ 6379\nTASK 2 Question: Which service is running on the port that is open on the machine?\nTo determine the service and service version, use the -sV option with nmap.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $nmap -sV -p 6379 $rhost Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-04 17:49 BST Nmap scan report for 10.129.176.198 Host is up (0.012s latency). PORT STATE SERVICE VERSION 6379/tcp open redis Redis key-value store 5.0.7 Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 6.50 seconds ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ redis\nTASK 3 Question: What type of database is Redis? Choose from the following options: (i) In-memory Database, (ii) Traditional Database\nUse the internet to read up on redis.\nin-memory database\nTASK 4 Question: Which command-line utility is used to interact with the Redis server? Enter the program name you would enter into the terminal without any arguments.\nOne thing you could do, is to search the man pages and descriptions to find a command that mentions redis.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $apropos redis redis: nothing appropriate. No luck this time. An other thing we could do, is to use the which command to search through the installed command names. Once the word redis is typed in, we can use the autocomplete function to list the available commands that start with the same name.\n┌─[✗]─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $which redis- redis-benchmark redis-check-aof redis-check-rdb redis-cli ┌─[✗]─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $which redis- Then you can simply check out their man pages to find the correct command.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $man redis-cli ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ redis-cli\nTASK 5 Question: Which flag is used with the Redis command-line utility to specify the hostname?\nUse the built-in help option to get a better idea of how to use the redis-cli command.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $redis-cli --help redis-cli 7.0.10 Usage: redis-cli [OPTIONS] [cmd [arg [arg ...]]] -h Server hostname (default: 127.0.0.1). -p Server port (default: 6379). -s Server socket (overrides hostname and port). -a Password to use when connecting to the server. You can also use the REDISCLI_AUTH environment variable to pass this password more safely (if both are used, this argument takes precedence). --user Used to send ACL style 'AUTH username pass'. Needs -a. --pass Alias of -a for consistency with the new --user option. --askpass Force user to input password with mask from STDIN. If this argument is used, '-a' and REDISCLI_AUTH environment variable will be ignored. -u Server URI. -r Execute specified command N times. -i When -r is used, waits seconds per command. It is possible to specify sub-second times like -i 0.1. This interval is also used in --scan and --stat per cycle. and in --bigkeys, --memkeys, and --hotkeys per 100 cycles. -n Database number. -2 Start session in RESP2 protocol mode. -3 Start session in RESP3 protocol mode. -x Read last argument from STDIN (see example below). -X Read argument from STDIN (see example below). -d Delimiter between response bulks for raw formatting (default: \\n). -D Delimiter between responses for raw formatting (default: \\n). -c Enable cluster mode (follow -ASK and -MOVED redirections). -e Return exit error code when command execution fails. --tls Establish a secure TLS connection. --sni Server name indication for TLS. --cacert CA Certificate file to verify with. --cacertdir Directory where trusted CA certificates are stored. If neither cacert nor cacertdir are specified, the default system-wide trusted root certs configuration will apply. --insecure Allow insecure TLS connection by skipping cert validation. --cert Client certificate to authenticate with. --key Private key file to authenticate with. --tls-ciphers Sets the list of preferred ciphers (TLSv1.2 and below) in order of preference from highest to lowest separated by colon (\":\"). See the ciphers(1ssl) manpage for more information about the syntax of this string. --tls-ciphersuites Sets the list of preferred ciphersuites (TLSv1.3) in order of preference from highest to lowest separated by colon (\":\"). See the ciphers(1ssl) manpage for more information about the syntax of this string, and specifically for TLSv1.3 ciphersuites. --raw Use raw formatting for replies (default when STDOUT is not a tty). --no-raw Force formatted output even when STDOUT is not a tty. --quoted-input Force input to be handled as quoted strings. --csv Output in CSV format. --json Output in JSON format (default RESP3, use -2 if you want to use with RESP2). --quoted-json Same as --json, but produce ASCII-safe quoted strings, not Unicode. --show-pushes Whether to print RESP3 PUSH messages. Enabled by default when STDOUT is a tty but can be overridden with --show-pushes no. --stat Print rolling stats about server: mem, clients, ... --latency Enter a special mode continuously sampling latency. If you use this mode in an interactive session it runs forever displaying real-time stats. Otherwise if --raw or --csv is specified, or if you redirect the output to a non TTY, it samples the latency for 1 second (you can use -i to change the interval), then produces a single output and exits. --latency-history Like --latency but tracking latency changes over time. Default time interval is 15 sec. Change it using -i. --latency-dist Shows latency as a spectrum, requires xterm 256 colors. Default time interval is 1 sec. Change it using -i. --lru-test Simulate a cache workload with an 80-20 distribution. --replica Simulate a replica showing commands received from the master. --rdb Transfer an RDB dump from remote server to local file. Use filename of \"-\" to write to stdout. --functions-rdb Like --rdb but only get the functions (not the keys) when getting the RDB dump file. --pipe Transfer raw Redis protocol from stdin to server. --pipe-timeout In --pipe mode, abort with error if after sending all data. no reply is received within seconds. Default timeout: 30. Use 0 to wait forever. --bigkeys Sample Redis keys looking for keys with many elements (complexity). --memkeys Sample Redis keys looking for keys consuming a lot of memory. --memkeys-samples Sample Redis keys looking for keys consuming a lot of memory. And define number of key elements to sample --hotkeys Sample Redis keys looking for hot keys. only works when maxmemory-policy is *lfu. --scan List all keys using the SCAN command. --pattern Keys pattern when using the --scan, --bigkeys or --hotkeys options (default: *). --quoted-pattern Same as --pattern, but the specified string can be quoted, in order to pass an otherwise non binary-safe string. --intrinsic-latency Run a test to measure intrinsic system latency. The test will run for the specified amount of seconds. --eval Send an EVAL command using the Lua script at . --ldb Used with --eval enable the Redis Lua debugger. --ldb-sync-mode Like --ldb but uses the synchronous Lua debugger, in this mode the server is blocked and script changes are not rolled back from the server memory. --cluster [args...] [opts...] Cluster Manager command and arguments (see below). --verbose Verbose mode. --no-auth-warning Don't show warning message when using password on command line interface. --help Output this help and exit. --version Output version and exit. Cluster Manager Commands: Use --cluster help to list all available cluster manager commands. Examples: cat /etc/passwd | redis-cli -x set mypasswd redis-cli -D \"\" --raw dump key \u003e key.dump \u0026\u0026 redis-cli -X dump_tag restore key2 0 dump_tag replace \u003c key.dump redis-cli -r 100 lpush mylist x redis-cli -r 100 -i 1 info | grep used_memory_human: redis-cli --quoted-input set '\"null-\\x00-separated\"' value redis-cli --eval myscript.lua key1 key2 , arg1 arg2 arg3 redis-cli --scan --pattern '*:12345*' (Note: when using --eval the comma separates KEYS[] from ARGV[] items) When no command is given, redis-cli starts in interactive mode. Type \"help\" in interactive mode for information on available commands and settings. ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ -h\nTASK 6 Question: Once connected to a Redis server, which command is used to obtain the information and statistics about the Redis server?\nSadly, the redis-cli man page does not include any information about the commands that can be used, once already connected. But it does mention a redis-doc, so you could use that string to search for on the internet… The results should be quite clear.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $redis-cli -h $rhost 10.129.176.198:6379\u003e info # Server redis_version:5.0.7 redis_git_sha1:00000000 redis_git_dirty:0 redis_build_id:66bd629f924ac924 redis_mode:standalone os:Linux 5.4.0-77-generic x86_64 arch_bits:64 multiplexing_api:epoll atomicvar_api:atomic-builtin gcc_version:9.3.0 process_id:752 run_id:a0e45127c878d291b58143aaa5720b13ce7be88b tcp_port:6379 uptime_in_seconds:2374 uptime_in_days:0 hz:10 configured_hz:10 lru_clock:5498843 executable:/usr/bin/redis-server config_file:/etc/redis/redis.conf # Clients connected_clients:1 client_recent_max_input_buffer:2 client_recent_max_output_buffer:0 blocked_clients:0 # Memory used_memory:859624 used_memory_human:839.48K used_memory_rss:6299648 used_memory_rss_human:6.01M used_memory_peak:859624 used_memory_peak_human:839.48K used_memory_peak_perc:100.00% used_memory_overhead:846142 used_memory_startup:796224 used_memory_dataset:13482 used_memory_dataset_perc:21.26% allocator_allocated:1562232 allocator_active:1937408 allocator_resident:11747328 total_system_memory:2084024320 total_system_memory_human:1.94G used_memory_lua:41984 used_memory_lua_human:41.00K used_memory_scripts:0 used_memory_scripts_human:0B number_of_cached_scripts:0 maxmemory:0 maxmemory_human:0B maxmemory_policy:noeviction allocator_frag_ratio:1.24 allocator_frag_bytes:375176 allocator_rss_ratio:6.06 allocator_rss_bytes:9809920 rss_overhead_ratio:0.54 rss_overhead_bytes:-5447680 mem_fragmentation_ratio:7.70 mem_fragmentation_bytes:5482032 mem_not_counted_for_evict:0 mem_replication_backlog:0 mem_clients_slaves:0 mem_clients_normal:49694 mem_aof_buffer:0 mem_allocator:jemalloc-5.2.1 active_defrag_running:0 lazyfree_pending_objects:0 # Persistence loading:0 rdb_changes_since_last_save:0 rdb_bgsave_in_progress:0 rdb_last_save_time:1683218970 rdb_last_bgsave_status:ok rdb_last_bgsave_time_sec:0 rdb_current_bgsave_time_sec:-1 rdb_last_cow_size:421888 aof_enabled:0 aof_rewrite_in_progress:0 aof_rewrite_scheduled:0 aof_last_rewrite_time_sec:-1 aof_current_rewrite_time_sec:-1 aof_last_bgrewrite_status:ok aof_last_write_status:ok aof_last_cow_size:0 # Stats total_connections_received:11 total_commands_processed:13 instantaneous_ops_per_sec:1 total_net_input_bytes:508 total_net_output_bytes:44867 instantaneous_input_kbps:0.03 instantaneous_output_kbps:7.05 rejected_connections:0 sync_full:0 sync_partial_ok:0 sync_partial_err:0 expired_keys:0 expired_stale_perc:0.00 expired_time_cap_reached_count:0 evicted_keys:0 keyspace_hits:0 keyspace_misses:0 pubsub_channels:0 pubsub_patterns:0 latest_fork_usec:542 migrate_cached_sockets:0 slave_expires_tracked_keys:0 active_defrag_hits:0 active_defrag_misses:0 active_defrag_key_hits:0 active_defrag_key_misses:0 # Replication role:master connected_slaves:0 master_replid:2f19a7a272aa0dce7bf3637824cfe276cda4df19 master_replid2:0000000000000000000000000000000000000000 master_repl_offset:0 second_repl_offset:-1 repl_backlog_active:0 repl_backlog_size:1048576 repl_backlog_first_byte_offset:0 repl_backlog_histlen:0 # CPU used_cpu_sys:2.039571 used_cpu_user:2.323492 used_cpu_sys_children:0.003026 used_cpu_user_children:0.000000 # Cluster cluster_enabled:0 # Keyspace db0:keys=4,expires=0,avg_ttl=0 10.129.176.198:6379\u003e info\nTASK 7 Question: What is the version of the Redis server being used on the target machine?\nYou can find the redis server version in the info output under the server configuration information.\n5.0.7\nTASK 8 Question: Which command is used to select the desired database in Redis?\nOnce again, we can search the redis-doc website for the correct answer.\nselect\nTASK 9 Question: How many keys are present inside the database with index 0?\nOne way to get to the answer is to take an other look at the info output that was generated before. There is some information about the keyspace located at the end.\n# Keyspace db0:keys=4,expires=0,avg_ttl=0 The number of keys for the database db0 is set to four, so we got our answer. One other way to get to the answer is to list all the keys in the database with the keys command after we select the database. Here, you could count the number of results.\n10.129.176.198:6379\u003e select 0 OK 10.129.176.198:6379\u003e KEYS * 1) \"flag\" 2) \"numb\" 3) \"stor\" 4) \"temp\" 10.129.176.198:6379\u003e 4\nTASK 10 Question: Which command is used to obtain all the keys in a database?\nWe used the same command in the previous task. The * indicates the match-all pattern.\nkeys *\nSUBMIT FLAG Question: Submit root flag\nTo view the keys, we use the get command. There is one particular key with the name flag. Check it out to get to the flag.\n10.129.176.198:6379\u003e get flag \"\" 10.129.176.198:6379\u003e flag\nMake sure to terminate the target box before you continue with the next machine!\n","wordCount":"2020","inLanguage":"en","datePublished":"2023-05-04T11:00:00Z","dateModified":"2023-05-04T11:00:00Z","author":{"@type":"Person","name":"bluewalle"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_0/redeemer/"},"publisher":{"@type":"Organization","name":"Ee-Vah?","logo":{"@type":"ImageObject","url":"https://bluewalle.github.io/main/img/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bluewalle.github.io/ accesskey=h title="Just Keep Swimming (Alt + H)"><img src=https://bluewalle.github.io/apple-touch-icon.png alt aria-label=logo height=35>Just Keep Swimming</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bluewalle.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://bluewalle.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://bluewalle.github.io/about title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bluewalle.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://bluewalle.github.io/posts/>Posts</a></div><h1 class=post-title>HTB - Redeemer - Walkthrough</h1><div class=post-meta><span title='2023-05-04 11:00:00 +0000 +0000'>May, 2023</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;2020 words&nbsp;·&nbsp;bluewalle</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#setup><strong>SETUP</strong></a></li><li><a href=#task-1><strong>TASK 1</strong></a></li><li><a href=#task-2><strong>TASK 2</strong></a></li><li><a href=#task-3><strong>TASK 3</strong></a></li><li><a href=#task-4><strong>TASK 4</strong></a></li><li><a href=#task-5><strong>TASK 5</strong></a></li><li><a href=#task-6><strong>TASK 6</strong></a></li><li><a href=#task-7><strong>TASK 7</strong></a></li><li><a href=#task-8><strong>TASK 8</strong></a></li><li><a href=#task-9><strong>TASK 9</strong></a></li><li><a href=#task-10><strong>TASK 10</strong></a></li><li><a href=#submit-flag><strong>SUBMIT FLAG</strong></a></li></ul></nav></div></details></div><div class=post-content><p>The aim of this walkthrough is to provide help with the <strong>Redeemer</strong> machine on the <a href=https://hackthebox.com title="Hack The Box website">Hack The Box website</a>. Please <strong>note</strong> that no <strong>flags</strong> are directly provided here, only <strong>one</strong> of the <strong>many</strong> ways to solve the challenges.</p><p>It belongs to a series of tutorials the aim to help out complete beginners with finishing the <a href=https://app.hackthebox.com/starting-point title="HTB Starting Point">Starting Point</a> challenges.</p><h2 id=setup><strong>SETUP</strong><a hidden class=anchor aria-hidden=true href=#setup>#</a></h2><p>There are a couple of ways to connect to the <strong>target machine</strong>. The one I will be using throughout this walkthrough is via the provided <strong>Pwnbox</strong>.</p><p>Once you took care of your connection, make sure to <strong>spawn</strong> the target machine.</p><p>Also, not required, but it is possible to set an <strong>environmental</strong> variable containing your <strong>target hosts</strong> IP address. Once set, you can easily <strong>access</strong> it by prepending a <em>$</em> to your variable name.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$rhost</span><span class=o>=</span>&lt;target-hosts-ip&gt;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $ <span class=nb>echo</span> <span class=nv>$rhost</span> 
</span></span><span class=line><span class=cl>&lt;target-hosts-ip&gt;
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><p>You could use the <em><strong>unset</strong></em> command to remove it after you no longer need it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>✗<span class=o>]</span>─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$unset</span> rhost 
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><h2 id=task-1><strong>TASK 1</strong><a hidden class=anchor aria-hidden=true href=#task-1>#</a></h2><p><strong>Question</strong>: <em>Which TCP port is open on the machine?</em></p><p>Use the <em>-p-</em> option for <em><strong>nmap</strong></em> to scan all the <strong>ports</strong>, not just the top 1000. (default scan) Beware, it might take a while.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$nmap</span> -p- <span class=nv>$rhost</span> 
</span></span><span class=line><span class=cl>Starting Nmap 7.93 <span class=o>(</span> https://nmap.org <span class=o>)</span> at 2023-05-04 17:43 BST
</span></span><span class=line><span class=cl>Nmap scan report <span class=k>for</span> 10.129.176.198
</span></span><span class=line><span class=cl>Host is up <span class=o>(</span>0.0099s latency<span class=o>)</span>.
</span></span><span class=line><span class=cl>Not shown: <span class=m>65534</span> closed tcp ports <span class=o>(</span>conn-refused<span class=o>)</span>
</span></span><span class=line><span class=cl>PORT     STATE SERVICE
</span></span><span class=line><span class=cl>6379/tcp open  redis
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nmap <span class=k>done</span>: <span class=m>1</span> IP address <span class=o>(</span><span class=m>1</span> host up<span class=o>)</span> scanned in 257.55 seconds
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>6379</p></blockquote><h2 id=task-2><strong>TASK 2</strong><a hidden class=anchor aria-hidden=true href=#task-2>#</a></h2><p><strong>Question</strong>: <em>Which service is running on the port that is open on the machine?</em></p><p>To <strong>determine</strong> the <strong>service</strong> and service version, use the <em>-sV</em> option with <em><strong>nmap</strong></em>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$nmap</span> -sV -p <span class=m>6379</span> <span class=nv>$rhost</span>
</span></span><span class=line><span class=cl>Starting Nmap 7.93 <span class=o>(</span> https://nmap.org <span class=o>)</span> at 2023-05-04 17:49 BST
</span></span><span class=line><span class=cl>Nmap scan report <span class=k>for</span> 10.129.176.198
</span></span><span class=line><span class=cl>Host is up <span class=o>(</span>0.012s latency<span class=o>)</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PORT     STATE SERVICE VERSION
</span></span><span class=line><span class=cl>6379/tcp open  redis   Redis key-value store 5.0.7
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
</span></span><span class=line><span class=cl>Nmap <span class=k>done</span>: <span class=m>1</span> IP address <span class=o>(</span><span class=m>1</span> host up<span class=o>)</span> scanned in 6.50 seconds
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>redis</p></blockquote><h2 id=task-3><strong>TASK 3</strong><a hidden class=anchor aria-hidden=true href=#task-3>#</a></h2><p><strong>Question</strong>: <em>What type of database is Redis? Choose from the following options: (i) In-memory Database, (ii) Traditional Database</em></p><p>Use the internet to read up on <em><strong>redis</strong></em>.</p><blockquote><p>in-memory database</p></blockquote><h2 id=task-4><strong>TASK 4</strong><a hidden class=anchor aria-hidden=true href=#task-4>#</a></h2><p><strong>Question</strong>: <em>Which command-line utility is used to interact with the Redis server? Enter the program name you would enter into the terminal without any arguments.</em></p><p>One thing you could do, is to <strong>search</strong> the man pages and descriptions to find a command that mentions <em>redis</em>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$apropos</span> redis
</span></span><span class=line><span class=cl>redis: nothing appropriate.
</span></span></code></pre></div><p>No luck this time. An other thing we could do, is to use the <em><strong>which</strong></em> command to <strong>search</strong> through the installed command names. Once the word <em>redis</em> is typed in, we can use the <strong>autocomplete</strong> function to list the <strong>available</strong> commands that start with the same name.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>✗<span class=o>]</span>─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$which</span> redis-
</span></span><span class=line><span class=cl>redis-benchmark  redis-check-aof  redis-check-rdb  redis-cli        
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>✗<span class=o>]</span>─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$which</span> redis-
</span></span></code></pre></div><p>Then you can simply check out their <strong>man pages</strong> to find the correct command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$man</span> redis-cli
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>redis-cli</p></blockquote><h2 id=task-5><strong>TASK 5</strong><a hidden class=anchor aria-hidden=true href=#task-5>#</a></h2><p><strong>Question</strong>: <em>Which flag is used with the Redis command-line utility to specify the hostname?</em></p><p>Use the built-in <strong>help</strong> option to get a better idea of how to use the <em><strong>redis-cli</strong></em> command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$redis</span>-cli --help
</span></span><span class=line><span class=cl>redis-cli 7.0.10
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Usage: redis-cli <span class=o>[</span>OPTIONS<span class=o>]</span> <span class=o>[</span>cmd <span class=o>[</span>arg <span class=o>[</span>arg ...<span class=o>]]]</span>
</span></span><span class=line><span class=cl>  -h &lt;hostname&gt;      Server hostname <span class=o>(</span>default: 127.0.0.1<span class=o>)</span>.
</span></span><span class=line><span class=cl>  -p &lt;port&gt;          Server port <span class=o>(</span>default: 6379<span class=o>)</span>.
</span></span><span class=line><span class=cl>  -s &lt;socket&gt;        Server socket <span class=o>(</span>overrides hostname and port<span class=o>)</span>.
</span></span><span class=line><span class=cl>  -a &lt;password&gt;      Password to use when connecting to the server.
</span></span><span class=line><span class=cl>                     You can also use the REDISCLI_AUTH environment
</span></span><span class=line><span class=cl>                     variable to pass this password more safely
</span></span><span class=line><span class=cl>                     <span class=o>(</span><span class=k>if</span> both are used, this argument takes precedence<span class=o>)</span>.
</span></span><span class=line><span class=cl>  --user &lt;username&gt;  Used to send ACL style <span class=s1>&#39;AUTH username pass&#39;</span>. Needs -a.
</span></span><span class=line><span class=cl>  --pass &lt;password&gt;  Alias of -a <span class=k>for</span> consistency with the new --user option.
</span></span><span class=line><span class=cl>  --askpass          Force user to input password with mask from STDIN.
</span></span><span class=line><span class=cl>                     If this argument is used, <span class=s1>&#39;-a&#39;</span> and REDISCLI_AUTH
</span></span><span class=line><span class=cl>                     environment variable will be ignored.
</span></span><span class=line><span class=cl>  -u &lt;uri&gt;           Server URI.
</span></span><span class=line><span class=cl>  -r &lt;repeat&gt;        Execute specified <span class=nb>command</span> N times.
</span></span><span class=line><span class=cl>  -i &lt;interval&gt;      When -r is used, waits &lt;interval&gt; seconds per command.
</span></span><span class=line><span class=cl>                     It is possible to specify sub-second <span class=nb>times</span> like -i 0.1.
</span></span><span class=line><span class=cl>                     This interval is also used in --scan and --stat per cycle.
</span></span><span class=line><span class=cl>                     and in --bigkeys, --memkeys, and --hotkeys per <span class=m>100</span> cycles.
</span></span><span class=line><span class=cl>  -n &lt;db&gt;            Database number.
</span></span><span class=line><span class=cl>  -2                 Start session in RESP2 protocol mode.
</span></span><span class=line><span class=cl>  -3                 Start session in RESP3 protocol mode.
</span></span><span class=line><span class=cl>  -x                 Read last argument from STDIN <span class=o>(</span>see example below<span class=o>)</span>.
</span></span><span class=line><span class=cl>  -X                 Read &lt;tag&gt; argument from STDIN <span class=o>(</span>see example below<span class=o>)</span>.
</span></span><span class=line><span class=cl>  -d &lt;delimiter&gt;     Delimiter between response bulks <span class=k>for</span> raw formatting <span class=o>(</span>default: <span class=se>\n</span><span class=o>)</span>.
</span></span><span class=line><span class=cl>  -D &lt;delimiter&gt;     Delimiter between responses <span class=k>for</span> raw formatting <span class=o>(</span>default: <span class=se>\n</span><span class=o>)</span>.
</span></span><span class=line><span class=cl>  -c                 Enable cluster mode <span class=o>(</span>follow -ASK and -MOVED redirections<span class=o>)</span>.
</span></span><span class=line><span class=cl>  -e                 Return <span class=nb>exit</span> error code when <span class=nb>command</span> execution fails.
</span></span><span class=line><span class=cl>  --tls              Establish a secure TLS connection.
</span></span><span class=line><span class=cl>  --sni &lt;host&gt;       Server name indication <span class=k>for</span> TLS.
</span></span><span class=line><span class=cl>  --cacert &lt;file&gt;    CA Certificate file to verify with.
</span></span><span class=line><span class=cl>  --cacertdir &lt;dir&gt;  Directory where trusted CA certificates are stored.
</span></span><span class=line><span class=cl>                     If neither cacert nor cacertdir are specified, the default
</span></span><span class=line><span class=cl>                     system-wide trusted root certs configuration will apply.
</span></span><span class=line><span class=cl>  --insecure         Allow insecure TLS connection by skipping cert validation.
</span></span><span class=line><span class=cl>  --cert &lt;file&gt;      Client certificate to authenticate with.
</span></span><span class=line><span class=cl>  --key &lt;file&gt;       Private key file to authenticate with.
</span></span><span class=line><span class=cl>  --tls-ciphers &lt;list&gt; Sets the list of preferred ciphers <span class=o>(</span>TLSv1.2 and below<span class=o>)</span>
</span></span><span class=line><span class=cl>                     in order of preference from highest to lowest separated by colon <span class=o>(</span><span class=s2>&#34;:&#34;</span><span class=o>)</span>.
</span></span><span class=line><span class=cl>                     See the ciphers<span class=o>(</span>1ssl<span class=o>)</span> manpage <span class=k>for</span> more information about the syntax of this string.
</span></span><span class=line><span class=cl>  --tls-ciphersuites &lt;list&gt; Sets the list of preferred ciphersuites <span class=o>(</span>TLSv1.3<span class=o>)</span>
</span></span><span class=line><span class=cl>                     in order of preference from highest to lowest separated by colon <span class=o>(</span><span class=s2>&#34;:&#34;</span><span class=o>)</span>.
</span></span><span class=line><span class=cl>                     See the ciphers<span class=o>(</span>1ssl<span class=o>)</span> manpage <span class=k>for</span> more information about the syntax of this string,
</span></span><span class=line><span class=cl>                     and specifically <span class=k>for</span> TLSv1.3 ciphersuites.
</span></span><span class=line><span class=cl>  --raw              Use raw formatting <span class=k>for</span> replies <span class=o>(</span>default when STDOUT is
</span></span><span class=line><span class=cl>                     not a tty<span class=o>)</span>.
</span></span><span class=line><span class=cl>  --no-raw           Force formatted output even when STDOUT is not a tty.
</span></span><span class=line><span class=cl>  --quoted-input     Force input to be handled as quoted strings.
</span></span><span class=line><span class=cl>  --csv              Output in CSV format.
</span></span><span class=line><span class=cl>  --json             Output in JSON format <span class=o>(</span>default RESP3, use -2 <span class=k>if</span> you want to use with RESP2<span class=o>)</span>.
</span></span><span class=line><span class=cl>  --quoted-json      Same as --json, but produce ASCII-safe quoted strings, not Unicode.
</span></span><span class=line><span class=cl>  --show-pushes &lt;yn&gt; Whether to print RESP3 PUSH messages.  Enabled by default when
</span></span><span class=line><span class=cl>                     STDOUT is a tty but can be overridden with --show-pushes no.
</span></span><span class=line><span class=cl>  --stat             Print rolling stats about server: mem, clients, ...
</span></span><span class=line><span class=cl>  --latency          Enter a special mode continuously sampling latency.
</span></span><span class=line><span class=cl>                     If you use this mode in an interactive session it runs
</span></span><span class=line><span class=cl>                     forever displaying real-time stats. Otherwise <span class=k>if</span> --raw or
</span></span><span class=line><span class=cl>                     --csv is specified, or <span class=k>if</span> you redirect the output to a non
</span></span><span class=line><span class=cl>                     TTY, it samples the latency <span class=k>for</span> <span class=m>1</span> second <span class=o>(</span>you can use
</span></span><span class=line><span class=cl>                     -i to change the interval<span class=o>)</span>, <span class=k>then</span> produces a single output
</span></span><span class=line><span class=cl>                     and exits.
</span></span><span class=line><span class=cl>  --latency-history  Like --latency but tracking latency changes over time.
</span></span><span class=line><span class=cl>                     Default <span class=nb>time</span> interval is <span class=m>15</span> sec. Change it using -i.
</span></span><span class=line><span class=cl>  --latency-dist     Shows latency as a spectrum, requires xterm <span class=m>256</span> colors.
</span></span><span class=line><span class=cl>                     Default <span class=nb>time</span> interval is <span class=m>1</span> sec. Change it using -i.
</span></span><span class=line><span class=cl>  --lru-test &lt;keys&gt;  Simulate a cache workload with an 80-20 distribution.
</span></span><span class=line><span class=cl>  --replica          Simulate a replica showing commands received from the master.
</span></span><span class=line><span class=cl>  --rdb &lt;filename&gt;   Transfer an RDB dump from remote server to <span class=nb>local</span> file.
</span></span><span class=line><span class=cl>                     Use filename of <span class=s2>&#34;-&#34;</span> to write to stdout.
</span></span><span class=line><span class=cl> --functions-rdb &lt;filename&gt; Like --rdb but only get the functions <span class=o>(</span>not the keys<span class=o>)</span>
</span></span><span class=line><span class=cl>                     when getting the RDB dump file.
</span></span><span class=line><span class=cl>  --pipe             Transfer raw Redis protocol from stdin to server.
</span></span><span class=line><span class=cl>  --pipe-timeout &lt;n&gt; In --pipe mode, abort with error <span class=k>if</span> after sending all data.
</span></span><span class=line><span class=cl>                     no reply is received within &lt;n&gt; seconds.
</span></span><span class=line><span class=cl>                     Default timeout: 30. Use <span class=m>0</span> to <span class=nb>wait</span> forever.
</span></span><span class=line><span class=cl>  --bigkeys          Sample Redis keys looking <span class=k>for</span> keys with many elements <span class=o>(</span>complexity<span class=o>)</span>.
</span></span><span class=line><span class=cl>  --memkeys          Sample Redis keys looking <span class=k>for</span> keys consuming a lot of memory.
</span></span><span class=line><span class=cl>  --memkeys-samples &lt;n&gt; Sample Redis keys looking <span class=k>for</span> keys consuming a lot of memory.
</span></span><span class=line><span class=cl>                     And define number of key elements to sample
</span></span><span class=line><span class=cl>  --hotkeys          Sample Redis keys looking <span class=k>for</span> hot keys.
</span></span><span class=line><span class=cl>                     only works when maxmemory-policy is *lfu.
</span></span><span class=line><span class=cl>  --scan             List all keys using the SCAN command.
</span></span><span class=line><span class=cl>  --pattern &lt;pat&gt;    Keys pattern when using the --scan, --bigkeys or --hotkeys
</span></span><span class=line><span class=cl>                     options <span class=o>(</span>default: *<span class=o>)</span>.
</span></span><span class=line><span class=cl>  --quoted-pattern &lt;pat&gt; Same as --pattern, but the specified string can be
</span></span><span class=line><span class=cl>                         quoted, in order to pass an otherwise non binary-safe string.
</span></span><span class=line><span class=cl>  --intrinsic-latency &lt;sec&gt; Run a <span class=nb>test</span> to measure intrinsic system latency.
</span></span><span class=line><span class=cl>                     The <span class=nb>test</span> will run <span class=k>for</span> the specified amount of seconds.
</span></span><span class=line><span class=cl>  --eval &lt;file&gt;      Send an EVAL <span class=nb>command</span> using the Lua script at &lt;file&gt;.
</span></span><span class=line><span class=cl>  --ldb              Used with --eval <span class=nb>enable</span> the Redis Lua debugger.
</span></span><span class=line><span class=cl>  --ldb-sync-mode    Like --ldb but uses the synchronous Lua debugger, in
</span></span><span class=line><span class=cl>                     this mode the server is blocked and script changes are
</span></span><span class=line><span class=cl>                     not rolled back from the server memory.
</span></span><span class=line><span class=cl>  --cluster &lt;command&gt; <span class=o>[</span>args...<span class=o>]</span> <span class=o>[</span>opts...<span class=o>]</span>
</span></span><span class=line><span class=cl>                     Cluster Manager <span class=nb>command</span> and arguments <span class=o>(</span>see below<span class=o>)</span>.
</span></span><span class=line><span class=cl>  --verbose          Verbose mode.
</span></span><span class=line><span class=cl>  --no-auth-warning  Don<span class=s1>&#39;t show warning message when using password on command
</span></span></span><span class=line><span class=cl><span class=s1>                     line interface.
</span></span></span><span class=line><span class=cl><span class=s1>  --help             Output this help and exit.
</span></span></span><span class=line><span class=cl><span class=s1>  --version          Output version and exit.
</span></span></span><span class=line><span class=cl><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>Cluster Manager Commands:
</span></span></span><span class=line><span class=cl><span class=s1>  Use --cluster help to list all available cluster manager commands.
</span></span></span><span class=line><span class=cl><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>Examples:
</span></span></span><span class=line><span class=cl><span class=s1>  cat /etc/passwd | redis-cli -x set mypasswd
</span></span></span><span class=line><span class=cl><span class=s1>  redis-cli -D &#34;&#34; --raw dump key &gt; key.dump &amp;&amp; redis-cli -X dump_tag restore key2 0 dump_tag replace &lt; key.dump
</span></span></span><span class=line><span class=cl><span class=s1>  redis-cli -r 100 lpush mylist x
</span></span></span><span class=line><span class=cl><span class=s1>  redis-cli -r 100 -i 1 info | grep used_memory_human:
</span></span></span><span class=line><span class=cl><span class=s1>  redis-cli --quoted-input set &#39;</span><span class=s2>&#34;null-\x00-separated&#34;</span><span class=s1>&#39; value
</span></span></span><span class=line><span class=cl><span class=s1>  redis-cli --eval myscript.lua key1 key2 , arg1 arg2 arg3
</span></span></span><span class=line><span class=cl><span class=s1>  redis-cli --scan --pattern &#39;</span>*:12345*<span class=err>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=o>(</span>Note: when using --eval the comma separates KEYS<span class=o>[]</span> from ARGV<span class=o>[]</span> items<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>When no <span class=nb>command</span> is given, redis-cli starts in interactive mode.
</span></span><span class=line><span class=cl>Type <span class=s2>&#34;help&#34;</span> in interactive mode <span class=k>for</span> information on available commands
</span></span><span class=line><span class=cl>and settings.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>-h</p></blockquote><h2 id=task-6><strong>TASK 6</strong><a hidden class=anchor aria-hidden=true href=#task-6>#</a></h2><p><strong>Question</strong>: <em>Once connected to a Redis server, which command is used to obtain the information and statistics about the Redis server?</em></p><p>Sadly, the <em><strong>redis-cli</strong></em> <strong>man page</strong> does not include any information about the commands that can be used, once already connected. But it does mention a redis-doc, so you could use that <em>string</em> to search for on the internet&mldr; The results should be quite clear.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$redis</span>-cli -h <span class=nv>$rhost</span>
</span></span><span class=line><span class=cl>10.129.176.198:6379&gt; info
</span></span><span class=line><span class=cl><span class=c1># Server</span>
</span></span><span class=line><span class=cl>redis_version:5.0.7
</span></span><span class=line><span class=cl>redis_git_sha1:00000000
</span></span><span class=line><span class=cl>redis_git_dirty:0
</span></span><span class=line><span class=cl>redis_build_id:66bd629f924ac924
</span></span><span class=line><span class=cl>redis_mode:standalone
</span></span><span class=line><span class=cl>os:Linux 5.4.0-77-generic x86_64
</span></span><span class=line><span class=cl>arch_bits:64
</span></span><span class=line><span class=cl>multiplexing_api:epoll
</span></span><span class=line><span class=cl>atomicvar_api:atomic-builtin
</span></span><span class=line><span class=cl>gcc_version:9.3.0
</span></span><span class=line><span class=cl>process_id:752
</span></span><span class=line><span class=cl>run_id:a0e45127c878d291b58143aaa5720b13ce7be88b
</span></span><span class=line><span class=cl>tcp_port:6379
</span></span><span class=line><span class=cl>uptime_in_seconds:2374
</span></span><span class=line><span class=cl>uptime_in_days:0
</span></span><span class=line><span class=cl>hz:10
</span></span><span class=line><span class=cl>configured_hz:10
</span></span><span class=line><span class=cl>lru_clock:5498843
</span></span><span class=line><span class=cl>executable:/usr/bin/redis-server
</span></span><span class=line><span class=cl>config_file:/etc/redis/redis.conf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Clients</span>
</span></span><span class=line><span class=cl>connected_clients:1
</span></span><span class=line><span class=cl>client_recent_max_input_buffer:2
</span></span><span class=line><span class=cl>client_recent_max_output_buffer:0
</span></span><span class=line><span class=cl>blocked_clients:0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Memory</span>
</span></span><span class=line><span class=cl>used_memory:859624
</span></span><span class=line><span class=cl>used_memory_human:839.48K
</span></span><span class=line><span class=cl>used_memory_rss:6299648
</span></span><span class=line><span class=cl>used_memory_rss_human:6.01M
</span></span><span class=line><span class=cl>used_memory_peak:859624
</span></span><span class=line><span class=cl>used_memory_peak_human:839.48K
</span></span><span class=line><span class=cl>used_memory_peak_perc:100.00%
</span></span><span class=line><span class=cl>used_memory_overhead:846142
</span></span><span class=line><span class=cl>used_memory_startup:796224
</span></span><span class=line><span class=cl>used_memory_dataset:13482
</span></span><span class=line><span class=cl>used_memory_dataset_perc:21.26%
</span></span><span class=line><span class=cl>allocator_allocated:1562232
</span></span><span class=line><span class=cl>allocator_active:1937408
</span></span><span class=line><span class=cl>allocator_resident:11747328
</span></span><span class=line><span class=cl>total_system_memory:2084024320
</span></span><span class=line><span class=cl>total_system_memory_human:1.94G
</span></span><span class=line><span class=cl>used_memory_lua:41984
</span></span><span class=line><span class=cl>used_memory_lua_human:41.00K
</span></span><span class=line><span class=cl>used_memory_scripts:0
</span></span><span class=line><span class=cl>used_memory_scripts_human:0B
</span></span><span class=line><span class=cl>number_of_cached_scripts:0
</span></span><span class=line><span class=cl>maxmemory:0
</span></span><span class=line><span class=cl>maxmemory_human:0B
</span></span><span class=line><span class=cl>maxmemory_policy:noeviction
</span></span><span class=line><span class=cl>allocator_frag_ratio:1.24
</span></span><span class=line><span class=cl>allocator_frag_bytes:375176
</span></span><span class=line><span class=cl>allocator_rss_ratio:6.06
</span></span><span class=line><span class=cl>allocator_rss_bytes:9809920
</span></span><span class=line><span class=cl>rss_overhead_ratio:0.54
</span></span><span class=line><span class=cl>rss_overhead_bytes:-5447680
</span></span><span class=line><span class=cl>mem_fragmentation_ratio:7.70
</span></span><span class=line><span class=cl>mem_fragmentation_bytes:5482032
</span></span><span class=line><span class=cl>mem_not_counted_for_evict:0
</span></span><span class=line><span class=cl>mem_replication_backlog:0
</span></span><span class=line><span class=cl>mem_clients_slaves:0
</span></span><span class=line><span class=cl>mem_clients_normal:49694
</span></span><span class=line><span class=cl>mem_aof_buffer:0
</span></span><span class=line><span class=cl>mem_allocator:jemalloc-5.2.1
</span></span><span class=line><span class=cl>active_defrag_running:0
</span></span><span class=line><span class=cl>lazyfree_pending_objects:0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Persistence</span>
</span></span><span class=line><span class=cl>loading:0
</span></span><span class=line><span class=cl>rdb_changes_since_last_save:0
</span></span><span class=line><span class=cl>rdb_bgsave_in_progress:0
</span></span><span class=line><span class=cl>rdb_last_save_time:1683218970
</span></span><span class=line><span class=cl>rdb_last_bgsave_status:ok
</span></span><span class=line><span class=cl>rdb_last_bgsave_time_sec:0
</span></span><span class=line><span class=cl>rdb_current_bgsave_time_sec:-1
</span></span><span class=line><span class=cl>rdb_last_cow_size:421888
</span></span><span class=line><span class=cl>aof_enabled:0
</span></span><span class=line><span class=cl>aof_rewrite_in_progress:0
</span></span><span class=line><span class=cl>aof_rewrite_scheduled:0
</span></span><span class=line><span class=cl>aof_last_rewrite_time_sec:-1
</span></span><span class=line><span class=cl>aof_current_rewrite_time_sec:-1
</span></span><span class=line><span class=cl>aof_last_bgrewrite_status:ok
</span></span><span class=line><span class=cl>aof_last_write_status:ok
</span></span><span class=line><span class=cl>aof_last_cow_size:0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Stats</span>
</span></span><span class=line><span class=cl>total_connections_received:11
</span></span><span class=line><span class=cl>total_commands_processed:13
</span></span><span class=line><span class=cl>instantaneous_ops_per_sec:1
</span></span><span class=line><span class=cl>total_net_input_bytes:508
</span></span><span class=line><span class=cl>total_net_output_bytes:44867
</span></span><span class=line><span class=cl>instantaneous_input_kbps:0.03
</span></span><span class=line><span class=cl>instantaneous_output_kbps:7.05
</span></span><span class=line><span class=cl>rejected_connections:0
</span></span><span class=line><span class=cl>sync_full:0
</span></span><span class=line><span class=cl>sync_partial_ok:0
</span></span><span class=line><span class=cl>sync_partial_err:0
</span></span><span class=line><span class=cl>expired_keys:0
</span></span><span class=line><span class=cl>expired_stale_perc:0.00
</span></span><span class=line><span class=cl>expired_time_cap_reached_count:0
</span></span><span class=line><span class=cl>evicted_keys:0
</span></span><span class=line><span class=cl>keyspace_hits:0
</span></span><span class=line><span class=cl>keyspace_misses:0
</span></span><span class=line><span class=cl>pubsub_channels:0
</span></span><span class=line><span class=cl>pubsub_patterns:0
</span></span><span class=line><span class=cl>latest_fork_usec:542
</span></span><span class=line><span class=cl>migrate_cached_sockets:0
</span></span><span class=line><span class=cl>slave_expires_tracked_keys:0
</span></span><span class=line><span class=cl>active_defrag_hits:0
</span></span><span class=line><span class=cl>active_defrag_misses:0
</span></span><span class=line><span class=cl>active_defrag_key_hits:0
</span></span><span class=line><span class=cl>active_defrag_key_misses:0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Replication</span>
</span></span><span class=line><span class=cl>role:master
</span></span><span class=line><span class=cl>connected_slaves:0
</span></span><span class=line><span class=cl>master_replid:2f19a7a272aa0dce7bf3637824cfe276cda4df19
</span></span><span class=line><span class=cl>master_replid2:0000000000000000000000000000000000000000
</span></span><span class=line><span class=cl>master_repl_offset:0
</span></span><span class=line><span class=cl>second_repl_offset:-1
</span></span><span class=line><span class=cl>repl_backlog_active:0
</span></span><span class=line><span class=cl>repl_backlog_size:1048576
</span></span><span class=line><span class=cl>repl_backlog_first_byte_offset:0
</span></span><span class=line><span class=cl>repl_backlog_histlen:0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># CPU</span>
</span></span><span class=line><span class=cl>used_cpu_sys:2.039571
</span></span><span class=line><span class=cl>used_cpu_user:2.323492
</span></span><span class=line><span class=cl>used_cpu_sys_children:0.003026
</span></span><span class=line><span class=cl>used_cpu_user_children:0.000000
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cluster</span>
</span></span><span class=line><span class=cl>cluster_enabled:0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Keyspace</span>
</span></span><span class=line><span class=cl>db0:keys<span class=o>=</span>4,expires<span class=o>=</span>0,avg_ttl<span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>10.129.176.198:6379&gt;
</span></span></code></pre></div><blockquote><p>info</p></blockquote><h2 id=task-7><strong>TASK 7</strong><a hidden class=anchor aria-hidden=true href=#task-7>#</a></h2><p><strong>Question</strong>: <em>What is the version of the Redis server being used on the target machine?</em></p><p>You can find the <strong>redis server version</strong> in the <em><strong>info</strong></em> output under the server configuration information.</p><blockquote><p>5.0.7</p></blockquote><h2 id=task-8><strong>TASK 8</strong><a hidden class=anchor aria-hidden=true href=#task-8>#</a></h2><p><strong>Question</strong>: <em>Which command is used to select the desired database in Redis?</em></p><p>Once again, we can <strong>search</strong> the <a href=https://redis.io/commands/select/ title="redis doc webpage">redis-doc website</a> for the correct answer.</p><blockquote><p>select</p></blockquote><h2 id=task-9><strong>TASK 9</strong><a hidden class=anchor aria-hidden=true href=#task-9>#</a></h2><p><strong>Question</strong>: <em>How many keys are present inside the database with index 0?</em></p><p><strong>One way</strong> to get to the answer is to take an other look at the <em><strong>info</strong></em> output that was generated before. There is some information about the <em>keyspace</em> located at the end.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># Keyspace
</span></span><span class=line><span class=cl>db0:keys=4,expires=0,avg_ttl=0
</span></span></code></pre></div><p>The <strong>number of keys</strong> for the <strong>database</strong> <em>db0</em> is set to four, so we got our answer. <strong>One other way</strong> to get to the answer is to <strong>list all the keys</strong> in the database with the <em><strong>keys</strong></em> command after we <em><strong>select</strong></em> the <strong>database</strong>. Here, you could <strong>count</strong> the number of results.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>10.129.176.198:6379&gt; <span class=k>select</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>OK
</span></span><span class=line><span class=cl>10.129.176.198:6379&gt; KEYS *
</span></span><span class=line><span class=cl>1<span class=o>)</span> <span class=s2>&#34;flag&#34;</span>
</span></span><span class=line><span class=cl>2<span class=o>)</span> <span class=s2>&#34;numb&#34;</span>
</span></span><span class=line><span class=cl>3<span class=o>)</span> <span class=s2>&#34;stor&#34;</span>
</span></span><span class=line><span class=cl>4<span class=o>)</span> <span class=s2>&#34;temp&#34;</span>
</span></span><span class=line><span class=cl>10.129.176.198:6379&gt; 
</span></span></code></pre></div><blockquote><p>4</p></blockquote><h2 id=task-10><strong>TASK 10</strong><a hidden class=anchor aria-hidden=true href=#task-10>#</a></h2><p><strong>Question</strong>: <em>Which command is used to obtain all the keys in a database?</em></p><p>We used the <strong>same command</strong> in the previous task. The * indicates the <em>match-all</em> pattern.</p><blockquote><p>keys *</p></blockquote><h2 id=submit-flag><strong>SUBMIT FLAG</strong><a hidden class=anchor aria-hidden=true href=#submit-flag>#</a></h2><p><strong>Question</strong>: <em>Submit root flag</em></p><p>To view the keys, we use the <em><strong>get</strong></em> command. There is one particular key with the name <em>flag</em>. <strong>Check it</strong> out to get to the <strong>flag</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>10.129.176.198:6379&gt; get flag
</span></span><span class=line><span class=cl><span class=s2>&#34;&lt;flag&gt;&#34;</span>
</span></span><span class=line><span class=cl>10.129.176.198:6379&gt; 
</span></span></code></pre></div><blockquote><p>flag</p></blockquote><p>Make sure to <strong>terminate</strong> the target box before you continue with the next machine!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bluewalle.github.io/tags/htb/>htb</a></li><li><a href=https://bluewalle.github.io/tags/walkthrough/>walkthrough</a></li><li><a href=https://bluewalle.github.io/tags/redeemer/>redeemer</a></li><li><a href=https://bluewalle.github.io/tags/tier-0/>tier-0</a></li><li><a href=https://bluewalle.github.io/tags/redis/>redis</a></li><li><a href=https://bluewalle.github.io/tags/vulnerability-assessment/>vulnerability-assessment</a></li><li><a href=https://bluewalle.github.io/tags/databases/>databases</a></li><li><a href=https://bluewalle.github.io/tags/reconnaissance/>reconnaissance</a></li><li><a href=https://bluewalle.github.io/tags/anonymous-access/>anonymous-access</a></li><li><a href=https://bluewalle.github.io/tags/guest-access/>guest-access</a></li></ul></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>