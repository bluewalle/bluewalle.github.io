<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>HTB - Synced - Walkthrough | Ee-Vah?</title><meta name=keywords content="htb,walkthrough,synced,tier-0,vip-tier,rsync,network,protocols,reconnaissance,anonymous-access,guest-access"><meta name=description content="The aim of this walkthrough is to provide help with the Synced machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.
It belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 0 challenges.
SETUP There are a couple of ways to connect to the target machine."><meta name=author content="bluewalle"><link rel=canonical href=https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_0/synced/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bluewalle.github.io/main/img/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://bluewalle.github.io/main/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://bluewalle.github.io/main/img/favicon-32x32.png><link rel=apple-touch-icon href=https://bluewalle.github.io/main/img/apple-touch-icon.png><link rel=mask-icon href=https://bluewalle.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="HTB - Synced - Walkthrough"><meta property="og:description" content="The aim of this walkthrough is to provide help with the Synced machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.
It belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 0 challenges.
SETUP There are a couple of ways to connect to the target machine."><meta property="og:type" content="article"><meta property="og:url" content="https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_0/synced/"><meta property="og:image" content="https://bluewalle.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-04T21:00:00+00:00"><meta property="article:modified_time" content="2023-05-04T21:00:00+00:00"><meta property="og:site_name" content="Just Keep Swimming"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bluewalle.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="HTB - Synced - Walkthrough"><meta name=twitter:description content="The aim of this walkthrough is to provide help with the Synced machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.
It belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 0 challenges.
SETUP There are a couple of ways to connect to the target machine."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bluewalle.github.io/posts/"},{"@type":"ListItem","position":2,"name":"HTB - Synced - Walkthrough","item":"https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_0/synced/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"HTB - Synced - Walkthrough","name":"HTB - Synced - Walkthrough","description":"The aim of this walkthrough is to provide help with the Synced machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.\nIt belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 0 challenges.\nSETUP There are a couple of ways to connect to the target machine.","keywords":["htb","walkthrough","synced","tier-0","vip-tier","rsync","network","protocols","reconnaissance","anonymous-access","guest-access"],"articleBody":"The aim of this walkthrough is to provide help with the Synced machine on the Hack The Box website. Please note that no flags are directly provided here. Moreover, be aware that this is only one of the many ways to solve the challenges.\nIt belongs to a series of tutorials that aim to help out complete beginners with finishing the Starting Point TIER 0 challenges.\nSETUP There are a couple of ways to connect to the target machine. The one I will be using throughout this walkthrough is via the provided Pwnbox.\nOnce you took care of your connection, make sure to spawn the target machine.\nAlso, not required, but it is possible to set an environmental variable containing your target hosts IP address. Once set, you can easily access it by prepending a $ to your variable name.\n┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $rhost= ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ echo $rhost ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ You could use the unset command to remove it after you no longer need it.\n┌─[✗]─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $unset rhost ┌─[htb-bluewalle@htb-pwdysfiide]─[~/Desktop] └──╼ $ TASK 1 Question: What is the default port for rsync?\nThe answer I found on the internet was either the port used by the ssh connection, or tcp port 873.\n873\nTASK 2 Question: How many TCP ports are open on the remote host?\nScan all the tcp ports on the target machine with nmap. There appears only one open.\n└──╼ $nmap -p- $rhost Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-04 21:53 BST Nmap scan report for 10.129.228.37 Host is up (0.010s latency). Not shown: 65534 closed tcp ports (conn-refused) PORT STATE SERVICE 873/tcp open rsync Nmap done: 1 IP address (1 host up) scanned in 246.65 seconds ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ 1\nTASK 3 Question: What is the protocol version used by rsync on the remote machine?\nService/version detection can be done via the -sV option in nmap.\n┌─[✗]─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $nmap -sV -p 873 $rhost Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-04 22:01 BST Nmap scan report for 10.129.228.37 Host is up (0.011s latency). PORT STATE SERVICE VERSION 873/tcp open rsync (protocol version 31) Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 9.49 seconds ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ 31\nTASK 4 Question: What is the most common command name on Linux to interact with rsync?\nOne way would be the usage of apropos to search all and any mention of the name rsync in the installed man pages and descriptions.\n┌─[✗]─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $apropos rsync rrsync (1) - a script to setup restricted rsync users via ssh logins rsync (1) - a fast, versatile, remote (and local) file-copying tool rsync-ssl (1) - a helper script for connecting to an ssl rsync daemon rsyncd.conf (5) - configuration file for rsync in daemon mode ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ rsync\nTASK 5 Question: What credentials do you have to pass to rsync in order to use anonymous authentication? anonymous:anonymous, anonymous, None, rsync:rsync\nWell, the hint and the answer box kinda gives it away. Otherwise, use the internet.\nThen try accessing the remote machine. One important thing to note is the accessing format. Look around rsync’s man page to find out the correct addressing format.\n# in the rsync man page ... Access via rsync daemon: Pull: rsync [OPTION...] [USER@]HOST::SRC... [DEST] ... Running the command without any options lists us the shares on the remote machine.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $rsync $rhost:: public Anonymous Share ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ None\nTASK 6 Question: What is the option to only list shares and files on rsync? (No need to include the leading – characters)\nUse rsync’s built-in help option. But interestingly, running the command without any options (like in TASK 5) delivers the same results.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $rsync --help ... --list-only list the files instead of copying them ... Let’s try it on the target machine.\n┌─[✗]─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $rsync --list-only $rhost:: public Anonymous Share ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ But snooping around a bit, reveals something interesting.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $rsync $rhost::public drwxr-xr-x 4,096 2022/10/24 23:02:23 . -rw-r--r-- 33 2022/10/24 22:32:03 flag.txt ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ list-only\nSUBMIT FLAG Question: Submit root flag\nCopy the file containing the flag to your local machine.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $rsync $rhost::public/flag.txt ./flag.txt Grab the flag.\n┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $cat flag.txt ┌─[htb-bluewalle@htb-fjpem3fvtz]─[~/Desktop] └──╼ $ flag\nMake sure to terminate the target box before you continue with the next machine!\n","wordCount":"728","inLanguage":"en","datePublished":"2023-05-04T21:00:00Z","dateModified":"2023-05-04T21:00:00Z","author":{"@type":"Person","name":"bluewalle"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bluewalle.github.io/posts/walkthroughs/htb/starting-point/tier_0/synced/"},"publisher":{"@type":"Organization","name":"Ee-Vah?","logo":{"@type":"ImageObject","url":"https://bluewalle.github.io/main/img/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bluewalle.github.io/ accesskey=h title="Just Keep Swimming (Alt + H)"><img src=https://bluewalle.github.io/apple-touch-icon.png alt aria-label=logo height=35>Just Keep Swimming</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bluewalle.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://bluewalle.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://bluewalle.github.io/about title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bluewalle.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://bluewalle.github.io/posts/>Posts</a></div><h1 class=post-title>HTB - Synced - Walkthrough</h1><div class=post-meta><span title='2023-05-04 21:00:00 +0000 +0000'>May, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;728 words&nbsp;·&nbsp;bluewalle</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#setup><strong>SETUP</strong></a></li><li><a href=#task-1><strong>TASK 1</strong></a></li><li><a href=#task-2><strong>TASK 2</strong></a></li><li><a href=#task-3><strong>TASK 3</strong></a></li><li><a href=#task-4><strong>TASK 4</strong></a></li><li><a href=#task-5><strong>TASK 5</strong></a></li><li><a href=#task-6><strong>TASK 6</strong></a></li><li><a href=#submit-flag><strong>SUBMIT FLAG</strong></a></li></ul></nav></div></details></div><div class=post-content><p>The aim of this walkthrough is to provide help with the <strong>Synced</strong> machine on the <a href=https://hackthebox.com title="Hack The Box website">Hack The Box website</a>. Please <strong>note</strong> that no <strong>flags</strong> are directly provided here. Moreover, <strong>be aware</strong> that this is only <strong>one</strong> of the <strong>many</strong> ways to solve the challenges.</p><p>It belongs to a series of tutorials that aim to help out complete beginners with finishing the <a href=https://app.hackthebox.com/starting-point title="HTB Starting Point">Starting Point</a> <strong>TIER 0</strong> challenges.</p><h2 id=setup><strong>SETUP</strong><a hidden class=anchor aria-hidden=true href=#setup>#</a></h2><p>There are a couple of ways to <strong>connect</strong> to the <strong>target machine</strong>. The one I will be using throughout this walkthrough is via the provided <strong>Pwnbox</strong>.</p><p>Once you took care of your <strong>connection</strong>, make sure to <strong>spawn</strong> the target machine.</p><p>Also, not required, but it is possible to set an <strong>environmental</strong> variable containing your <strong>target hosts</strong> IP address. Once set, you can easily <strong>access</strong> it by prepending a <em>$</em> to your variable name.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$rhost</span><span class=o>=</span>&lt;target-hosts-ip&gt;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $ <span class=nb>echo</span> <span class=nv>$rhost</span> 
</span></span><span class=line><span class=cl>&lt;target-hosts-ip&gt;
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><p>You could use the <em><strong>unset</strong></em> command to remove it after you no longer need it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>✗<span class=o>]</span>─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$unset</span> rhost 
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-pwdysfiide<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><h2 id=task-1><strong>TASK 1</strong><a hidden class=anchor aria-hidden=true href=#task-1>#</a></h2><p><strong>Question</strong>: <em>What is the default port for rsync?</em></p><p>The answer I found on the <strong>internet</strong> was either the <strong>port</strong> used by the <em><strong>ssh</strong></em> connection, or <strong>tcp</strong> <strong>port</strong> 873.</p><blockquote><p>873</p></blockquote><h2 id=task-2><strong>TASK 2</strong><a hidden class=anchor aria-hidden=true href=#task-2>#</a></h2><p><strong>Question</strong>: <em>How many TCP ports are open on the remote host?</em></p><p><strong>Scan</strong> all the <strong>tcp</strong> ports on the <strong>target</strong> machine with <em><strong>nmap</strong></em>. There appears only <strong>one</strong> <strong>open</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>└──╼ <span class=nv>$nmap</span> -p- <span class=nv>$rhost</span> 
</span></span><span class=line><span class=cl>Starting Nmap 7.93 <span class=o>(</span> https://nmap.org <span class=o>)</span> at 2023-05-04 21:53 BST
</span></span><span class=line><span class=cl>Nmap scan report <span class=k>for</span> 10.129.228.37
</span></span><span class=line><span class=cl>Host is up <span class=o>(</span>0.010s latency<span class=o>)</span>.
</span></span><span class=line><span class=cl>Not shown: <span class=m>65534</span> closed tcp ports <span class=o>(</span>conn-refused<span class=o>)</span>
</span></span><span class=line><span class=cl>PORT    STATE SERVICE
</span></span><span class=line><span class=cl>873/tcp open  rsync
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nmap <span class=k>done</span>: <span class=m>1</span> IP address <span class=o>(</span><span class=m>1</span> host up<span class=o>)</span> scanned in 246.65 seconds
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>1</p></blockquote><h2 id=task-3><strong>TASK 3</strong><a hidden class=anchor aria-hidden=true href=#task-3>#</a></h2><p><strong>Question</strong>: <em>What is the protocol version used by rsync on the remote machine?</em></p><p><strong>Service/version detection</strong> can be done via the <em>-sV</em> option in <em><strong>nmap</strong></em>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>✗<span class=o>]</span>─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$nmap</span> -sV -p <span class=m>873</span> <span class=nv>$rhost</span> 
</span></span><span class=line><span class=cl>Starting Nmap 7.93 <span class=o>(</span> https://nmap.org <span class=o>)</span> at 2023-05-04 22:01 BST
</span></span><span class=line><span class=cl>Nmap scan report <span class=k>for</span> 10.129.228.37
</span></span><span class=line><span class=cl>Host is up <span class=o>(</span>0.011s latency<span class=o>)</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PORT    STATE SERVICE VERSION
</span></span><span class=line><span class=cl>873/tcp open  rsync   <span class=o>(</span>protocol version 31<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
</span></span><span class=line><span class=cl>Nmap <span class=k>done</span>: <span class=m>1</span> IP address <span class=o>(</span><span class=m>1</span> host up<span class=o>)</span> scanned in 9.49 seconds
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>31</p></blockquote><h2 id=task-4><strong>TASK 4</strong><a hidden class=anchor aria-hidden=true href=#task-4>#</a></h2><p><strong>Question</strong>: <em>What is the most common command name on Linux to interact with rsync?</em></p><p>One way would be the usage of <em><strong>apropos</strong></em> to search all and any mention of the name <em>rsync</em> in the installed <strong>man pages</strong> and <strong>descriptions</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>✗<span class=o>]</span>─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$apropos</span> rsync
</span></span><span class=line><span class=cl>rrsync <span class=o>(</span>1<span class=o>)</span>           - a script to setup restricted rsync users via ssh logins
</span></span><span class=line><span class=cl>rsync <span class=o>(</span>1<span class=o>)</span>            - a fast, versatile, remote <span class=o>(</span>and <span class=nb>local</span><span class=o>)</span> file-copying tool
</span></span><span class=line><span class=cl>rsync-ssl <span class=o>(</span>1<span class=o>)</span>        - a helper script <span class=k>for</span> connecting to an ssl rsync daemon
</span></span><span class=line><span class=cl>rsyncd.conf <span class=o>(</span>5<span class=o>)</span>      - configuration file <span class=k>for</span> rsync in daemon mode
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>rsync</p></blockquote><h2 id=task-5><strong>TASK 5</strong><a hidden class=anchor aria-hidden=true href=#task-5>#</a></h2><p><strong>Question</strong>: <em>What credentials do you have to pass to rsync in order to use anonymous authentication? anonymous:anonymous, anonymous, None, rsync:rsync</em></p><p>Well, the <strong>hint</strong> and the <strong>answer box</strong> kinda gives it away. Otherwise, use the <strong>internet</strong>.</p><p>Then try <strong>accessing</strong> the remote machine. One important thing to note is the <strong>accessing format</strong>. Look around <em><strong>rsync</strong></em>&rsquo;s <strong>man page</strong> to find out the correct addressing format.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># in the rsync man page
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>Access via rsync daemon:
</span></span><span class=line><span class=cl>           Pull:
</span></span><span class=line><span class=cl>               rsync [OPTION...] [USER@]HOST::SRC... [DEST]
</span></span><span class=line><span class=cl>...
</span></span></code></pre></div><p>Running the command <strong>without</strong> any <strong>options</strong> lists us the <strong>shares</strong> on the <strong>remote machine</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$rsync</span> <span class=nv>$rhost</span>::
</span></span><span class=line><span class=cl>public         	Anonymous Share
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>None</p></blockquote><h2 id=task-6><strong>TASK 6</strong><a hidden class=anchor aria-hidden=true href=#task-6>#</a></h2><p><strong>Question</strong>: <em>What is the option to only list shares and files on rsync? (No need to include the leading &ndash; characters)</em></p><p>Use <em><strong>rsync</strong></em>&rsquo;s built-in <em><strong>help</strong></em> option. But interestingly, running the command <strong>without</strong> any <strong>options</strong> (like in TASK 5) delivers the <strong>same results</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$rsync</span> --help
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>--list-only              list the files instead of copying them
</span></span><span class=line><span class=cl>...
</span></span></code></pre></div><p>Let&rsquo;s try it on the <strong>target</strong> machine.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>✗<span class=o>]</span>─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$rsync</span> --list-only <span class=nv>$rhost</span>::
</span></span><span class=line><span class=cl>public         	Anonymous Share
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><p>But <strong>snooping around</strong> a bit, reveals something interesting.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$rsync</span> <span class=nv>$rhost</span>::public
</span></span><span class=line><span class=cl>drwxr-xr-x          4,096 2022/10/24 23:02:23 .
</span></span><span class=line><span class=cl>-rw-r--r--             <span class=m>33</span> 2022/10/24 22:32:03 flag.txt
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>list-only</p></blockquote><h2 id=submit-flag><strong>SUBMIT FLAG</strong><a hidden class=anchor aria-hidden=true href=#submit-flag>#</a></h2><p><strong>Question</strong>: <em>Submit root flag</em></p><p><strong>Copy</strong> the file containing the <strong>flag</strong> to your local machine.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$rsync</span> <span class=nv>$rhost</span>::public/flag.txt ./flag.txt
</span></span></code></pre></div><p><strong>Grab</strong> the flag.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ <span class=nv>$cat</span> flag.txt 
</span></span><span class=line><span class=cl>&lt;flag&gt;
</span></span><span class=line><span class=cl>┌─<span class=o>[</span>htb-bluewalle@htb-fjpem3fvtz<span class=o>]</span>─<span class=o>[</span>~/Desktop<span class=o>]</span>
</span></span><span class=line><span class=cl>└──╼ $
</span></span></code></pre></div><blockquote><p>flag</p></blockquote><p>Make sure to <strong>terminate</strong> the <strong>target</strong> box <strong>before</strong> you <strong>continue</strong> with the next machine!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bluewalle.github.io/tags/htb/>htb</a></li><li><a href=https://bluewalle.github.io/tags/walkthrough/>walkthrough</a></li><li><a href=https://bluewalle.github.io/tags/synced/>synced</a></li><li><a href=https://bluewalle.github.io/tags/tier-0/>tier-0</a></li><li><a href=https://bluewalle.github.io/tags/vip-tier/>vip-tier</a></li><li><a href=https://bluewalle.github.io/tags/rsync/>rsync</a></li><li><a href=https://bluewalle.github.io/tags/network/>network</a></li><li><a href=https://bluewalle.github.io/tags/protocols/>protocols</a></li><li><a href=https://bluewalle.github.io/tags/reconnaissance/>reconnaissance</a></li><li><a href=https://bluewalle.github.io/tags/anonymous-access/>anonymous-access</a></li><li><a href=https://bluewalle.github.io/tags/guest-access/>guest-access</a></li></ul></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>